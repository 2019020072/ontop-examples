#logback.classic pattern: %d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
12:17:49.510 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:49.520 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:17:49.594 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:49.596 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:17:49.607 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:17:49.627 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:17:49.630 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:17:49.635 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:17:49.635 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:17:49.635 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:17:49.635 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:17:49.635 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:17:49.635 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:49.635 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:17:49.636 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:17:49.636 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:49.657 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:17:49.885 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:17:49.886 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:17:49.886 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:17:49.886 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:17:49.989 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:17:50.061 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:17:50.085 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:17:50.109 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:17:50.142 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:17:50.273 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:17:50.319 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:17:50.320 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 41 ms
12:17:50.320 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:50.320 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:50.387 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:17:50.389 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:17:50.401 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:17:50.405 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:17:50.416 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:17:50.459 [main] DEBUG o.o.query.parser.QueryParserRegistry - Registered service class org.openrdf.query.parser.sparql.SPARQLParserFactory
12:17:50.469 [main] DEBUG o.o.query.parser.QueryParserRegistry - Registered service class org.openrdf.query.parser.serql.SeRQLParserFactory
12:17:50.636 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 1
12:17:50.638 [Thread-1] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Slice ( limit=1 )
   Projection
      ProjectionElemList
         ProjectionElem "x"
      StatementPattern
         Var (name=x)
         Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
         Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)

12:17:50.642 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x) :- ans2(x)
ans2(x) :- http://www.example.org/A4(x)

12:17:50.645 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x) :- http://www.example.org/A4(x)

12:17:50.645 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:17:50.647 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x) :- http://www.example.org/A4(x)

12:17:50.647 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:17:50.647 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:17:50.649 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:50.649 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:50.653 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:50.653 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:17:50.653 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:17:50.659 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x"
 FROM 
Tab4 QVIEW1
WHERE 
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 1
OFFSET 0

12:17:50.659 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:17:50.679 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:249

The input SPARQL query:
=======================
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 1

The output SQL query:
=====================
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x"
 FROM 
Tab4 QVIEW1
WHERE 
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 1
OFFSET 0

Query Execution Time:
=====================
249ms
The number of results:
=====================
1
12:17:50.695 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:50.695 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:17:50.702 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:50.702 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:17:50.702 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:17:50.705 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:17:50.706 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:17:50.706 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:17:50.706 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:17:50.706 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:17:50.706 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:17:50.707 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:17:50.707 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:50.707 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:17:50.707 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:17:50.707 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:50.711 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:17:50.715 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:17:50.715 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:17:50.715 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:17:50.715 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:17:50.717 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:17:50.757 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:17:50.789 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:17:50.820 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:17:50.848 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:17:50.936 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:17:50.949 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:17:50.950 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 13 ms
12:17:50.950 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:50.950 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:50.954 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:17:50.954 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:17:50.974 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:17:50.981 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:17:50.985 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:17:50.987 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 1001
12:17:50.987 [Thread-2] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Slice ( limit=1001 )
   Projection
      ProjectionElemList
         ProjectionElem "x"
      StatementPattern
         Var (name=x)
         Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
         Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)

12:17:50.988 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x) :- ans2(x)
ans2(x) :- http://www.example.org/A4(x)

12:17:50.989 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x) :- http://www.example.org/A4(x)

12:17:50.989 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:17:50.989 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x) :- http://www.example.org/A4(x)

12:17:50.989 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:17:50.989 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:17:50.990 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:50.990 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:50.990 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:50.991 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:17:50.991 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:17:50.994 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x"
 FROM 
Tab4 QVIEW1
WHERE 
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 1001
OFFSET 0

12:17:50.994 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:17:51.007 [Thread-2] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:53

The input SPARQL query:
=======================
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 1001

The output SQL query:
=====================
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x"
 FROM 
Tab4 QVIEW1
WHERE 
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 1001
OFFSET 0

Query Execution Time:
=====================
53ms
The number of results:
=====================
1001
12:17:51.054 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.054 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:17:51.067 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.068 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:17:51.068 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:17:51.073 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:17:51.076 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:17:51.076 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:17:51.076 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:17:51.076 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:17:51.076 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:17:51.076 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:17:51.076 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.077 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:17:51.077 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:17:51.078 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.083 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:17:51.087 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:17:51.087 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:17:51.087 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:17:51.087 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:17:51.091 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:17:51.132 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:17:51.164 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:17:51.193 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:17:51.223 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:17:51.303 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:17:51.315 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:17:51.315 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 11 ms
12:17:51.315 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:51.315 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:51.318 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:17:51.319 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:17:51.332 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:17:51.337 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:17:51.342 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:17:51.343 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 2001
12:17:51.344 [Thread-3] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Slice ( limit=2001 )
   Projection
      ProjectionElemList
         ProjectionElem "x"
      StatementPattern
         Var (name=x)
         Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
         Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)

12:17:51.344 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x) :- ans2(x)
ans2(x) :- http://www.example.org/A4(x)

12:17:51.345 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x) :- http://www.example.org/A4(x)

12:17:51.345 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:17:51.345 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x) :- http://www.example.org/A4(x)

12:17:51.345 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:17:51.345 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:17:51.346 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:51.346 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:51.347 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:51.347 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:17:51.347 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:17:51.349 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x"
 FROM 
Tab4 QVIEW1
WHERE 
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 2001
OFFSET 0

12:17:51.349 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:17:51.366 [Thread-3] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:75

The input SPARQL query:
=======================
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 2001

The output SQL query:
=====================
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x"
 FROM 
Tab4 QVIEW1
WHERE 
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 2001
OFFSET 0

Query Execution Time:
=====================
75ms
The number of results:
=====================
2001
12:17:51.431 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.431 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:17:51.443 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.444 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:17:51.444 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:17:51.449 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:17:51.451 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:17:51.451 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:17:51.451 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:17:51.451 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:17:51.451 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:17:51.451 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:17:51.451 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.452 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:17:51.452 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:17:51.453 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.457 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:17:51.462 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:17:51.462 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:17:51.462 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:17:51.462 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:17:51.466 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:17:51.505 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:17:51.536 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:17:51.564 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:17:51.593 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:17:51.664 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:17:51.675 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:17:51.675 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 10 ms
12:17:51.675 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:51.676 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:51.679 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:17:51.680 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:17:51.690 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:17:51.695 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:17:51.699 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:17:51.701 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 3001
12:17:51.701 [Thread-4] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Slice ( limit=3001 )
   Projection
      ProjectionElemList
         ProjectionElem "x"
      StatementPattern
         Var (name=x)
         Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
         Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)

12:17:51.701 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x) :- ans2(x)
ans2(x) :- http://www.example.org/A4(x)

12:17:51.702 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x) :- http://www.example.org/A4(x)

12:17:51.702 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:17:51.702 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x) :- http://www.example.org/A4(x)

12:17:51.703 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:17:51.703 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:17:51.703 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:51.704 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:51.704 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

12:17:51.704 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:17:51.704 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:17:51.706 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x"
 FROM 
Tab4 QVIEW1
WHERE 
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 3001
OFFSET 0

12:17:51.706 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:17:51.714 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:63

The input SPARQL query:
=======================
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 3001

The output SQL query:
=====================
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x"
 FROM 
Tab4 QVIEW1
WHERE 
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 3001
OFFSET 0

Query Execution Time:
=====================
63ms
The number of results:
=====================
3001
12:17:51.776 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.777 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:17:51.788 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.788 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:17:51.788 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:17:51.793 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:17:51.795 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:17:51.795 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:17:51.795 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:17:51.795 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:17:51.795 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:17:51.795 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:17:51.795 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.796 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:17:51.796 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:17:51.796 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:17:51.800 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:17:51.805 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:17:51.805 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:17:51.805 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:17:51.805 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:17:51.809 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:17:51.848 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:17:51.878 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:17:51.907 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:17:51.935 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:17:52.003 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:17:52.010 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:17:52.010 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 7 ms
12:17:52.010 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:52.010 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:17:52.013 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:17:52.014 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:17:52.024 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:17:52.029 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:17:52.033 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:17:52.044 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/>  SELECT  DISTINCT ?x  ?u      WHERE {?x a :A2. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 
12:17:52.045 [Thread-5] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "u"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
               Var (name=-const-http://www.example.org/A2-uri, value=http://www.example.org/A2, anonymous)
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=u)

12:17:52.054 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,u) :- ans2(u,x)
ans2(u,x) :- ans4(u,x), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,x) :- LeftJoin(ans8(x),ans9(u,x))
ans8(x) :- http://www.example.org/A2(x)
ans9(u,x) :- http://www.example.org/S(x,u)

12:17:52.060 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,u) :- LeftJoin(http://www.example.org/A2(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:17:52.060 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:17:52.061 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,u) :- LeftJoin(http://www.example.org/A2(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:17:52.061 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:17:52.061 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:17:52.063 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:17:52.063 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:17:52.063 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:17:52.063 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:17:52.063 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:17:52.067 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab2" AS VARCHAR(10485760))) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760)) AS "u"
 FROM 

        (
        Tab2 QVIEW1
        LEFT OUTER JOIN
        Tab5 QVIEW2
        ON
        (QVIEW1."unique2tab2" = QVIEW2."unique2tab5") AND
        QVIEW1."unique2tab2" IS NOT NULL AND
        QVIEW2."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1tab5" < 100000) AND
(QVIEW1."twentytab2" < 10) AND
QVIEW1."unique2tab2" IS NOT NULL
) SUB_QVIEW

12:17:52.068 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:18:07.410 [Thread-5] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:15640

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/>  SELECT  DISTINCT ?x  ?u      WHERE {?x a :A2. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab2" AS VARCHAR(10485760))) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760)) AS "u"
 FROM 

        (
        Tab2 QVIEW1
        LEFT OUTER JOIN
        Tab5 QVIEW2
        ON
        (QVIEW1."unique2tab2" = QVIEW2."unique2tab5") AND
        QVIEW1."unique2tab2" IS NOT NULL AND
        QVIEW2."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1tab5" < 100000) AND
(QVIEW1."twentytab2" < 10) AND
QVIEW1."unique2tab2" IS NOT NULL
) SUB_QVIEW

Query Execution Time:
=====================
15640ms
The number of results:
=====================
50000
12:18:07.681 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:07.681 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:18:07.687 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:07.687 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:18:07.687 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:18:07.689 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:18:07.690 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:18:07.691 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:18:07.691 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:18:07.691 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:18:07.691 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:18:07.691 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:18:07.691 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:07.691 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:18:07.691 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:18:07.691 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:07.693 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:18:07.697 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:18:07.697 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:18:07.698 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:18:07.698 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:18:07.699 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:18:07.721 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:18:07.737 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:18:07.756 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:18:07.775 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:18:07.824 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:18:07.831 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:18:07.831 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 7 ms
12:18:07.831 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:18:07.831 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:18:07.833 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:18:07.834 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:18:07.843 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:18:07.847 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:18:07.851 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:18:07.853 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/>  SELECT  DISTINCT ?x  ?u      WHERE {?x a :A4. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 
12:18:07.853 [Thread-6] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "u"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
               Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=u)

12:18:07.854 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,u) :- ans2(u,x)
ans2(u,x) :- ans4(u,x), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,x) :- LeftJoin(ans8(x),ans9(u,x))
ans8(x) :- http://www.example.org/A4(x)
ans9(u,x) :- http://www.example.org/S(x,u)

12:18:07.856 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,u) :- LeftJoin(http://www.example.org/A4(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:07.856 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:18:07.856 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,u) :- LeftJoin(http://www.example.org/A4(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:07.856 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:18:07.856 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:18:07.858 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:07.858 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:07.858 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:07.858 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:18:07.858 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:18:07.862 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760)) AS "u"
 FROM 

        (
        Tab4 QVIEW1
        LEFT OUTER JOIN
        Tab5 QVIEW2
        ON
        (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
        QVIEW1."unique2tab4" IS NOT NULL AND
        QVIEW2."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1tab5" < 100000) AND
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW

12:18:07.863 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:18:23.770 [Thread-6] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:16150

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/>  SELECT  DISTINCT ?x  ?u      WHERE {?x a :A4. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760)) AS "u"
 FROM 

        (
        Tab4 QVIEW1
        LEFT OUTER JOIN
        Tab5 QVIEW2
        ON
        (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
        QVIEW1."unique2tab4" IS NOT NULL AND
        QVIEW2."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1tab5" < 100000) AND
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW

Query Execution Time:
=====================
16150ms
The number of results:
=====================
100000
12:18:24.009 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:24.009 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:18:24.015 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:24.015 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:18:24.015 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:18:24.017 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:18:24.018 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:18:24.018 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:18:24.018 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:18:24.018 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:18:24.018 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:18:24.018 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:18:24.018 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:24.018 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:18:24.018 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:18:24.019 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:24.020 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:18:24.024 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:18:24.025 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:18:24.025 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:18:24.025 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:18:24.026 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:18:24.064 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:18:24.096 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:18:24.121 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:18:24.149 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:18:24.213 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:18:24.219 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:18:24.219 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 5 ms
12:18:24.219 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:18:24.219 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:18:24.221 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:18:24.222 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:18:24.231 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:18:24.235 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:18:24.239 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:18:24.243 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }
12:18:24.244 [Thread-7] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "u"
         ProjectionElem "v"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               Join
                  Join
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A3-uri, value=http://www.example.org/A3, anonymous)
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                        Var (name=y)
                  StatementPattern
                     Var (name=y)
                     Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                     Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
               StatementPattern
                  Var (name=x)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=u)
            StatementPattern
               Var (name=y)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=v)

12:18:24.245 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,u,v) :- ans2(u,v,x,y)
ans2(u,v,x,y) :- ans4(u,v,x,y), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,x,y) :- LeftJoin(ans8(u,x,y),ans9(v,y))
ans8(u,x,y) :- LeftJoin(ans16(x,y),ans17(u,x))
ans16(x,y) :- ans32(x,y), ans33(y)
ans32(x,y) :- ans64(x), ans65(x,y)
ans64(x) :- http://www.example.org/A3(x)
ans65(x,y) :- http://www.example.org/R(x,y)
ans33(y) :- http://www.example.org/A4(y)
ans17(u,x) :- http://www.example.org/S(x,u)
ans9(v,y) :- http://www.example.org/S(y,v)

12:18:24.249 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:24.249 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:18:24.249 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:24.249 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:18:24.249 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:18:24.252 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:24.252 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:24.253 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:24.253 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:18:24.253 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:18:24.264 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab3" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1tab5" AS VARCHAR(10485760)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                Tab3 QVIEW1
                                JOIN
                                Tab5 QVIEW2
                                ON
                                (QVIEW1."unique2tab3" = QVIEW2."unique2tab5") AND
                                (QVIEW1."twentytab3" < 15) AND
                                QVIEW1."unique2tab3" IS NOT NULL AND
                                QVIEW2."unique1tab5" IS NOT NULL
                                 )
                        JOIN
                        Tab4 QVIEW3
                        ON
                        (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                        (QVIEW3."twentytab4" < 20)
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW4
                ON
                (QVIEW1."unique2tab3" = QVIEW4."unique2tab5") AND
                QVIEW1."unique2tab3" IS NOT NULL AND
                QVIEW4."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW5
        ON
        (QVIEW2."unique1tab5" = QVIEW5."unique2tab5") AND
        QVIEW2."unique1tab5" IS NOT NULL AND
        QVIEW5."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1tab5" < 100000)
) SUB_QVIEW

12:18:24.264 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:18:41.048 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:17359

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab3" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1tab5" AS VARCHAR(10485760)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                Tab3 QVIEW1
                                JOIN
                                Tab5 QVIEW2
                                ON
                                (QVIEW1."unique2tab3" = QVIEW2."unique2tab5") AND
                                (QVIEW1."twentytab3" < 15) AND
                                QVIEW1."unique2tab3" IS NOT NULL AND
                                QVIEW2."unique1tab5" IS NOT NULL
                                 )
                        JOIN
                        Tab4 QVIEW3
                        ON
                        (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                        (QVIEW3."twentytab4" < 20)
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW4
                ON
                (QVIEW1."unique2tab3" = QVIEW4."unique2tab5") AND
                QVIEW1."unique2tab3" IS NOT NULL AND
                QVIEW4."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW5
        ON
        (QVIEW2."unique1tab5" = QVIEW5."unique2tab5") AND
        QVIEW2."unique1tab5" IS NOT NULL AND
        QVIEW5."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
17359ms
The number of results:
=====================
75000
12:18:41.605 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:41.605 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:18:41.610 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:41.611 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:18:41.611 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:18:41.612 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:18:41.613 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:18:41.613 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:18:41.613 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:18:41.613 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:18:41.613 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:18:41.614 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:18:41.614 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:41.614 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:18:41.614 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:18:41.614 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:41.615 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:18:41.620 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:18:41.620 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:18:41.620 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:18:41.620 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:18:41.622 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:18:41.663 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:18:41.693 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:18:41.721 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:18:41.749 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:18:41.810 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:18:41.814 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:18:41.815 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 4 ms
12:18:41.815 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:18:41.815 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:18:41.817 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:18:41.817 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:18:41.825 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:18:41.828 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:18:41.833 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:18:41.835 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }
12:18:41.836 [Thread-8] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "u"
         ProjectionElem "v"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               Join
                  Join
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                        Var (name=y)
                  StatementPattern
                     Var (name=y)
                     Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                     Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
               StatementPattern
                  Var (name=x)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=u)
            StatementPattern
               Var (name=y)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=v)

12:18:41.837 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,u,v) :- ans2(u,v,x,y)
ans2(u,v,x,y) :- ans4(u,v,x,y), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,x,y) :- LeftJoin(ans8(u,x,y),ans9(v,y))
ans8(u,x,y) :- LeftJoin(ans16(x,y),ans17(u,x))
ans16(x,y) :- ans32(x,y), ans33(y)
ans32(x,y) :- ans64(x), ans65(x,y)
ans64(x) :- http://www.example.org/A4(x)
ans65(x,y) :- http://www.example.org/R(x,y)
ans33(y) :- http://www.example.org/A4(y)
ans17(u,x) :- http://www.example.org/S(x,u)
ans9(v,y) :- http://www.example.org/S(y,v)

12:18:41.840 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:41.840 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:18:41.840 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:41.840 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:18:41.840 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:18:41.843 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:41.843 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:41.843 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:18:41.843 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:18:41.844 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:18:41.853 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1tab5" AS VARCHAR(10485760)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                Tab4 QVIEW1
                                JOIN
                                Tab5 QVIEW2
                                ON
                                (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
                                (QVIEW1."twentytab4" < 20) AND
                                QVIEW1."unique2tab4" IS NOT NULL AND
                                QVIEW2."unique1tab5" IS NOT NULL
                                 )
                        JOIN
                        Tab4 QVIEW3
                        ON
                        (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                        (QVIEW3."twentytab4" < 20)
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW4
                ON
                (QVIEW1."unique2tab4" = QVIEW4."unique2tab5") AND
                QVIEW1."unique2tab4" IS NOT NULL AND
                QVIEW4."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW5
        ON
        (QVIEW2."unique1tab5" = QVIEW5."unique2tab5") AND
        QVIEW2."unique1tab5" IS NOT NULL AND
        QVIEW5."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1tab5" < 100000)
) SUB_QVIEW

12:18:41.853 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:18:59.313 [Thread-8] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:17971

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1tab5" AS VARCHAR(10485760)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                Tab4 QVIEW1
                                JOIN
                                Tab5 QVIEW2
                                ON
                                (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
                                (QVIEW1."twentytab4" < 20) AND
                                QVIEW1."unique2tab4" IS NOT NULL AND
                                QVIEW2."unique1tab5" IS NOT NULL
                                 )
                        JOIN
                        Tab4 QVIEW3
                        ON
                        (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                        (QVIEW3."twentytab4" < 20)
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW4
                ON
                (QVIEW1."unique2tab4" = QVIEW4."unique2tab5") AND
                QVIEW1."unique2tab4" IS NOT NULL AND
                QVIEW4."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW5
        ON
        (QVIEW2."unique1tab5" = QVIEW5."unique2tab5") AND
        QVIEW2."unique1tab5" IS NOT NULL AND
        QVIEW5."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
17971ms
The number of results:
=====================
100000
12:18:59.811 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:59.811 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:18:59.816 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:59.816 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:18:59.816 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:18:59.818 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:18:59.819 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:18:59.819 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:18:59.819 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:18:59.819 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:18:59.819 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:18:59.819 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:18:59.819 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:59.819 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:18:59.819 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:18:59.819 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:18:59.820 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:18:59.825 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:18:59.825 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:18:59.825 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:18:59.825 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:18:59.828 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:18:59.869 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:18:59.900 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:18:59.929 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:18:59.956 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:19:00.009 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:19:00.014 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:19:00.014 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 4 ms
12:19:00.014 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:19:00.014 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:19:00.016 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:19:00.016 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:19:00.022 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:19:00.025 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:19:00.030 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:19:00.038 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }
12:19:00.039 [Thread-9] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "z"
         ProjectionElem "u"
         ProjectionElem "v"
         ProjectionElem "w"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               LeftJoin
                  Join
                     Join
                        Join
                           Join
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                                 Var (name=-const-http://www.example.org/A3-uri, value=http://www.example.org/A3, anonymous)
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                                 Var (name=y)
                           StatementPattern
                              Var (name=y)
                              Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                              Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                        StatementPattern
                           Var (name=y)
                           Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                           Var (name=z)
                     StatementPattern
                        Var (name=z)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                  StatementPattern
                     Var (name=x)
                     Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                     Var (name=u)
               StatementPattern
                  Var (name=y)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=v)
            StatementPattern
               Var (name=z)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=w)

12:19:00.040 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,z,u,v,w) :- ans2(u,v,w,x,y,z)
ans2(u,v,w,x,y,z) :- ans4(u,v,w,x,y,z), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,w,x,y,z) :- LeftJoin(ans8(u,v,x,y,z),ans9(w,z))
ans8(u,v,x,y,z) :- LeftJoin(ans16(u,x,y,z),ans17(v,y))
ans16(u,x,y,z) :- LeftJoin(ans32(x,y,z),ans33(u,x))
ans32(x,y,z) :- ans64(x,y,z), ans65(z)
ans64(x,y,z) :- ans128(x,y), ans129(y,z)
ans128(x,y) :- ans256(x,y), ans257(y)
ans256(x,y) :- ans512(x), ans513(x,y)
ans512(x) :- http://www.example.org/A3(x)
ans513(x,y) :- http://www.example.org/R(x,y)
ans257(y) :- http://www.example.org/A4(y)
ans129(y,z) :- http://www.example.org/R(y,z)
ans65(z) :- http://www.example.org/A4(z)
ans33(u,x) :- http://www.example.org/S(x,u)
ans17(v,y) :- http://www.example.org/S(y,v)
ans9(w,z) :- http://www.example.org/S(z,w)

12:19:00.045 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:00.045 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:19:00.045 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:00.045 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:19:00.045 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:19:00.049 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:00.049 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:00.049 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:00.049 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:19:00.049 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:19:00.063 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab3" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", ('http://www.example.org/A/' || CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760))) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1tab5" AS VARCHAR(10485760)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1tab5" AS VARCHAR(10485760)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        Tab3 QVIEW1
                                                        JOIN
                                                        Tab5 QVIEW2
                                                        ON
                                                        (QVIEW1."unique2tab3" = QVIEW2."unique2tab5") AND
                                                        (QVIEW1."twentytab3" < 15) AND
                                                        QVIEW1."unique2tab3" IS NOT NULL AND
                                                        QVIEW2."unique1tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                Tab4 QVIEW3
                                                ON
                                                (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                                                (QVIEW3."twentytab4" < 20)
                                                 )
                                        JOIN
                                        Tab5 QVIEW4
                                        ON
                                        (QVIEW2."unique1tab5" = QVIEW4."unique2tab5") AND
                                        QVIEW4."unique1tab5" IS NOT NULL
                                         )
                                JOIN
                                Tab4 QVIEW5
                                ON
                                (QVIEW4."unique1tab5" = QVIEW5."unique2tab4") AND
                                (QVIEW5."twentytab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        Tab5 QVIEW6
                        ON
                        (QVIEW1."unique2tab3" = QVIEW6."unique2tab5") AND
                        QVIEW1."unique2tab3" IS NOT NULL AND
                        QVIEW6."unique1tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW7
                ON
                (QVIEW2."unique1tab5" = QVIEW7."unique2tab5") AND
                QVIEW2."unique1tab5" IS NOT NULL AND
                QVIEW7."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW8
        ON
        (QVIEW4."unique1tab5" = QVIEW8."unique2tab5") AND
        QVIEW4."unique1tab5" IS NOT NULL AND
        QVIEW8."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1tab5" < 100000)
) SUB_QVIEW

12:19:00.063 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:19:18.856 [Thread-9] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:19655

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab3" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", ('http://www.example.org/A/' || CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760))) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1tab5" AS VARCHAR(10485760)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1tab5" AS VARCHAR(10485760)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        Tab3 QVIEW1
                                                        JOIN
                                                        Tab5 QVIEW2
                                                        ON
                                                        (QVIEW1."unique2tab3" = QVIEW2."unique2tab5") AND
                                                        (QVIEW1."twentytab3" < 15) AND
                                                        QVIEW1."unique2tab3" IS NOT NULL AND
                                                        QVIEW2."unique1tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                Tab4 QVIEW3
                                                ON
                                                (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                                                (QVIEW3."twentytab4" < 20)
                                                 )
                                        JOIN
                                        Tab5 QVIEW4
                                        ON
                                        (QVIEW2."unique1tab5" = QVIEW4."unique2tab5") AND
                                        QVIEW4."unique1tab5" IS NOT NULL
                                         )
                                JOIN
                                Tab4 QVIEW5
                                ON
                                (QVIEW4."unique1tab5" = QVIEW5."unique2tab4") AND
                                (QVIEW5."twentytab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        Tab5 QVIEW6
                        ON
                        (QVIEW1."unique2tab3" = QVIEW6."unique2tab5") AND
                        QVIEW1."unique2tab3" IS NOT NULL AND
                        QVIEW6."unique1tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW7
                ON
                (QVIEW2."unique1tab5" = QVIEW7."unique2tab5") AND
                QVIEW2."unique1tab5" IS NOT NULL AND
                QVIEW7."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW8
        ON
        (QVIEW4."unique1tab5" = QVIEW8."unique2tab5") AND
        QVIEW4."unique1tab5" IS NOT NULL AND
        QVIEW8."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
19655ms
The number of results:
=====================
75000
12:19:19.691 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:19.691 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:19:19.695 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:19.695 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:19:19.695 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:19:19.697 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:19:19.697 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:19:19.698 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:19:19.698 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:19:19.698 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:19:19.698 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:19:19.698 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:19:19.698 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:19.698 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:19:19.698 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:19:19.698 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:19.699 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:19:19.703 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:19:19.704 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:19:19.704 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:19:19.704 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:19:19.707 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:19:19.745 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:19:19.774 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:19:19.802 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:19:19.829 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:19:19.881 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:19:19.885 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:19:19.885 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 4 ms
12:19:19.886 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:19:19.886 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:19:19.888 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:19:19.888 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:19:19.894 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:19:19.896 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:19:19.901 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:19:19.903 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }
12:19:19.904 [Thread-10] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "z"
         ProjectionElem "u"
         ProjectionElem "v"
         ProjectionElem "w"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               LeftJoin
                  Join
                     Join
                        Join
                           Join
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                                 Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                                 Var (name=y)
                           StatementPattern
                              Var (name=y)
                              Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                              Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                        StatementPattern
                           Var (name=y)
                           Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                           Var (name=z)
                     StatementPattern
                        Var (name=z)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                  StatementPattern
                     Var (name=x)
                     Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                     Var (name=u)
               StatementPattern
                  Var (name=y)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=v)
            StatementPattern
               Var (name=z)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=w)

12:19:19.905 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,z,u,v,w) :- ans2(u,v,w,x,y,z)
ans2(u,v,w,x,y,z) :- ans4(u,v,w,x,y,z), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,w,x,y,z) :- LeftJoin(ans8(u,v,x,y,z),ans9(w,z))
ans8(u,v,x,y,z) :- LeftJoin(ans16(u,x,y,z),ans17(v,y))
ans16(u,x,y,z) :- LeftJoin(ans32(x,y,z),ans33(u,x))
ans32(x,y,z) :- ans64(x,y,z), ans65(z)
ans64(x,y,z) :- ans128(x,y), ans129(y,z)
ans128(x,y) :- ans256(x,y), ans257(y)
ans256(x,y) :- ans512(x), ans513(x,y)
ans512(x) :- http://www.example.org/A4(x)
ans513(x,y) :- http://www.example.org/R(x,y)
ans257(y) :- http://www.example.org/A4(y)
ans129(y,z) :- http://www.example.org/R(y,z)
ans65(z) :- http://www.example.org/A4(z)
ans33(u,x) :- http://www.example.org/S(x,u)
ans17(v,y) :- http://www.example.org/S(y,v)
ans9(w,z) :- http://www.example.org/S(z,w)

12:19:19.909 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:19.910 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:19:19.910 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:19.910 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:19:19.910 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:19:19.914 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:19.914 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:19.914 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:19.914 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:19:19.914 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:19:19.923 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", ('http://www.example.org/A/' || CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760))) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1tab5" AS VARCHAR(10485760)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1tab5" AS VARCHAR(10485760)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        Tab4 QVIEW1
                                                        JOIN
                                                        Tab5 QVIEW2
                                                        ON
                                                        (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
                                                        (QVIEW1."twentytab4" < 20) AND
                                                        QVIEW1."unique2tab4" IS NOT NULL AND
                                                        QVIEW2."unique1tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                Tab4 QVIEW3
                                                ON
                                                (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                                                (QVIEW3."twentytab4" < 20)
                                                 )
                                        JOIN
                                        Tab5 QVIEW4
                                        ON
                                        (QVIEW2."unique1tab5" = QVIEW4."unique2tab5") AND
                                        QVIEW4."unique1tab5" IS NOT NULL
                                         )
                                JOIN
                                Tab4 QVIEW5
                                ON
                                (QVIEW4."unique1tab5" = QVIEW5."unique2tab4") AND
                                (QVIEW5."twentytab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        Tab5 QVIEW6
                        ON
                        (QVIEW1."unique2tab4" = QVIEW6."unique2tab5") AND
                        QVIEW1."unique2tab4" IS NOT NULL AND
                        QVIEW6."unique1tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW7
                ON
                (QVIEW2."unique1tab5" = QVIEW7."unique2tab5") AND
                QVIEW2."unique1tab5" IS NOT NULL AND
                QVIEW7."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW8
        ON
        (QVIEW4."unique1tab5" = QVIEW8."unique2tab5") AND
        QVIEW4."unique1tab5" IS NOT NULL AND
        QVIEW8."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1tab5" < 100000)
) SUB_QVIEW

12:19:19.923 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:19:39.204 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:19907

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", ('http://www.example.org/A/' || CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760))) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1tab5" AS VARCHAR(10485760)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1tab5" AS VARCHAR(10485760)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        Tab4 QVIEW1
                                                        JOIN
                                                        Tab5 QVIEW2
                                                        ON
                                                        (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
                                                        (QVIEW1."twentytab4" < 20) AND
                                                        QVIEW1."unique2tab4" IS NOT NULL AND
                                                        QVIEW2."unique1tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                Tab4 QVIEW3
                                                ON
                                                (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                                                (QVIEW3."twentytab4" < 20)
                                                 )
                                        JOIN
                                        Tab5 QVIEW4
                                        ON
                                        (QVIEW2."unique1tab5" = QVIEW4."unique2tab5") AND
                                        QVIEW4."unique1tab5" IS NOT NULL
                                         )
                                JOIN
                                Tab4 QVIEW5
                                ON
                                (QVIEW4."unique1tab5" = QVIEW5."unique2tab4") AND
                                (QVIEW5."twentytab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        Tab5 QVIEW6
                        ON
                        (QVIEW1."unique2tab4" = QVIEW6."unique2tab5") AND
                        QVIEW1."unique2tab4" IS NOT NULL AND
                        QVIEW6."unique1tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW7
                ON
                (QVIEW2."unique1tab5" = QVIEW7."unique2tab5") AND
                QVIEW2."unique1tab5" IS NOT NULL AND
                QVIEW7."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW8
        ON
        (QVIEW4."unique1tab5" = QVIEW8."unique2tab5") AND
        QVIEW4."unique1tab5" IS NOT NULL AND
        QVIEW8."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
19907ms
The number of results:
=====================
100000
12:19:39.815 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:39.815 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:19:39.819 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:39.819 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:19:39.819 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:19:39.820 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:19:39.821 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:19:39.821 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:19:39.821 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:19:39.821 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:19:39.821 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:19:39.821 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:19:39.821 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:39.822 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:19:39.822 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:19:39.822 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:39.823 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:19:39.827 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:19:39.827 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:19:39.827 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:19:39.827 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:19:39.830 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:19:39.868 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:19:39.897 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:19:39.925 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:19:39.952 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:19:40.004 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:19:40.008 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:19:40.009 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 3 ms
12:19:40.009 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:19:40.009 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:19:40.010 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:19:40.011 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:19:40.016 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:19:40.019 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:19:40.023 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:19:40.025 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/>  SELECT  DISTINCT ?x  ?u      WHERE {?x a :A2. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 
12:19:40.025 [Thread-11] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "u"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
               Var (name=-const-http://www.example.org/A2-uri, value=http://www.example.org/A2, anonymous)
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=u)

12:19:40.026 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,u) :- ans2(u,x)
ans2(u,x) :- ans4(u,x), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,x) :- LeftJoin(ans8(x),ans9(u,x))
ans8(x) :- http://www.example.org/A2(x)
ans9(u,x) :- http://www.example.org/S(x,u)

12:19:40.027 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,u) :- LeftJoin(http://www.example.org/A2(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:40.027 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:19:40.027 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,u) :- LeftJoin(http://www.example.org/A2(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:40.027 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:19:40.027 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:19:40.028 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:40.028 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:40.028 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:40.028 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:19:40.028 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:19:40.030 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab2" AS VARCHAR(10485760))) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760)) AS "u"
 FROM 

        (
        Tab2 QVIEW1
        LEFT OUTER JOIN
        Tab5 QVIEW2
        ON
        (QVIEW1."unique2tab2" = QVIEW2."unique2tab5") AND
        QVIEW1."unique2tab2" IS NOT NULL AND
        QVIEW2."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1tab5" < 100000) AND
(QVIEW1."twentytab2" < 10) AND
QVIEW1."unique2tab2" IS NOT NULL
) SUB_QVIEW

12:19:40.030 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:19:55.258 [Thread-11] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:15388

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/>  SELECT  DISTINCT ?x  ?u      WHERE {?x a :A2. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab2" AS VARCHAR(10485760))) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760)) AS "u"
 FROM 

        (
        Tab2 QVIEW1
        LEFT OUTER JOIN
        Tab5 QVIEW2
        ON
        (QVIEW1."unique2tab2" = QVIEW2."unique2tab5") AND
        QVIEW1."unique2tab2" IS NOT NULL AND
        QVIEW2."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1tab5" < 100000) AND
(QVIEW1."twentytab2" < 10) AND
QVIEW1."unique2tab2" IS NOT NULL
) SUB_QVIEW

Query Execution Time:
=====================
15388ms
The number of results:
=====================
50000
12:19:55.422 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:55.423 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:19:55.430 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:55.430 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:19:55.430 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:19:55.433 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:19:55.435 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:19:55.435 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:19:55.435 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:19:55.435 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:19:55.435 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:19:55.435 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:19:55.435 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:55.436 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:19:55.436 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:19:55.436 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:19:55.438 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:19:55.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:19:55.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:19:55.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:19:55.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:19:55.445 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:19:55.484 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:19:55.513 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:19:55.540 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:19:55.568 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:19:55.619 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:19:55.623 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:19:55.623 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 3 ms
12:19:55.624 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:19:55.624 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:19:55.625 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:19:55.626 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:19:55.631 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:19:55.634 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:19:55.638 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:19:55.640 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/>  SELECT  DISTINCT ?x  ?u      WHERE {?x a :A4. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 
12:19:55.641 [Thread-12] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "u"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
               Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=u)

12:19:55.641 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,u) :- ans2(u,x)
ans2(u,x) :- ans4(u,x), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,x) :- LeftJoin(ans8(x),ans9(u,x))
ans8(x) :- http://www.example.org/A4(x)
ans9(u,x) :- http://www.example.org/S(x,u)

12:19:55.642 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,u) :- LeftJoin(http://www.example.org/A4(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:55.642 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:19:55.642 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,u) :- LeftJoin(http://www.example.org/A4(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:55.643 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:19:55.643 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:19:55.643 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:55.643 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:55.644 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

12:19:55.644 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:19:55.644 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:19:55.646 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760)) AS "u"
 FROM 

        (
        Tab4 QVIEW1
        LEFT OUTER JOIN
        Tab5 QVIEW2
        ON
        (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
        QVIEW1."unique2tab4" IS NOT NULL AND
        QVIEW2."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1tab5" < 100000) AND
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW

12:19:55.646 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:20:11.245 [Thread-12] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:15855

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/>  SELECT  DISTINCT ?x  ?u      WHERE {?x a :A4. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760)) AS "u"
 FROM 

        (
        Tab4 QVIEW1
        LEFT OUTER JOIN
        Tab5 QVIEW2
        ON
        (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
        QVIEW1."unique2tab4" IS NOT NULL AND
        QVIEW2."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1tab5" < 100000) AND
(QVIEW1."twentytab4" < 20) AND
QVIEW1."unique2tab4" IS NOT NULL
) SUB_QVIEW

Query Execution Time:
=====================
15855ms
The number of results:
=====================
100000
12:20:11.499 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:11.500 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:20:11.503 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:11.504 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:20:11.504 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:20:11.505 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:20:11.506 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:20:11.506 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:20:11.506 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:20:11.506 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:20:11.506 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:20:11.506 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:20:11.506 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:11.506 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:20:11.506 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:20:11.506 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:11.507 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:20:11.511 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:20:11.511 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:20:11.511 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:20:11.511 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:20:11.514 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:20:11.552 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:20:11.581 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:20:11.608 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:20:11.635 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:20:11.687 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:20:11.690 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:20:11.690 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 3 ms
12:20:11.690 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:20:11.690 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:20:11.692 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:20:11.692 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:20:11.697 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:20:11.700 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:20:11.704 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:20:11.707 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }
12:20:11.708 [Thread-13] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "u"
         ProjectionElem "v"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               Join
                  Join
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A3-uri, value=http://www.example.org/A3, anonymous)
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                        Var (name=y)
                  StatementPattern
                     Var (name=y)
                     Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                     Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
               StatementPattern
                  Var (name=x)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=u)
            StatementPattern
               Var (name=y)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=v)

12:20:11.709 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,u,v) :- ans2(u,v,x,y)
ans2(u,v,x,y) :- ans4(u,v,x,y), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,x,y) :- LeftJoin(ans8(u,x,y),ans9(v,y))
ans8(u,x,y) :- LeftJoin(ans16(x,y),ans17(u,x))
ans16(x,y) :- ans32(x,y), ans33(y)
ans32(x,y) :- ans64(x), ans65(x,y)
ans64(x) :- http://www.example.org/A3(x)
ans65(x,y) :- http://www.example.org/R(x,y)
ans33(y) :- http://www.example.org/A4(y)
ans17(u,x) :- http://www.example.org/S(x,u)
ans9(v,y) :- http://www.example.org/S(y,v)

12:20:11.711 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:11.711 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:20:11.711 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:11.711 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:20:11.711 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:20:11.713 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:11.713 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:11.714 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:11.714 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:20:11.714 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:20:11.718 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab3" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1tab5" AS VARCHAR(10485760)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                Tab3 QVIEW1
                                JOIN
                                Tab5 QVIEW2
                                ON
                                (QVIEW1."unique2tab3" = QVIEW2."unique2tab5") AND
                                (QVIEW1."twentytab3" < 15) AND
                                QVIEW1."unique2tab3" IS NOT NULL AND
                                QVIEW2."unique1tab5" IS NOT NULL
                                 )
                        JOIN
                        Tab4 QVIEW3
                        ON
                        (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                        (QVIEW3."twentytab4" < 20)
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW4
                ON
                (QVIEW1."unique2tab3" = QVIEW4."unique2tab5") AND
                QVIEW1."unique2tab3" IS NOT NULL AND
                QVIEW4."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW5
        ON
        (QVIEW2."unique1tab5" = QVIEW5."unique2tab5") AND
        QVIEW2."unique1tab5" IS NOT NULL AND
        QVIEW5."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1tab5" < 100000)
) SUB_QVIEW

12:20:11.719 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:20:28.835 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:17457

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab3" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1tab5" AS VARCHAR(10485760)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                Tab3 QVIEW1
                                JOIN
                                Tab5 QVIEW2
                                ON
                                (QVIEW1."unique2tab3" = QVIEW2."unique2tab5") AND
                                (QVIEW1."twentytab3" < 15) AND
                                QVIEW1."unique2tab3" IS NOT NULL AND
                                QVIEW2."unique1tab5" IS NOT NULL
                                 )
                        JOIN
                        Tab4 QVIEW3
                        ON
                        (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                        (QVIEW3."twentytab4" < 20)
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW4
                ON
                (QVIEW1."unique2tab3" = QVIEW4."unique2tab5") AND
                QVIEW1."unique2tab3" IS NOT NULL AND
                QVIEW4."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW5
        ON
        (QVIEW2."unique1tab5" = QVIEW5."unique2tab5") AND
        QVIEW2."unique1tab5" IS NOT NULL AND
        QVIEW5."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
17457ms
The number of results:
=====================
75000
12:20:29.167 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:29.167 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:20:29.171 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:29.171 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:20:29.171 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:20:29.172 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:20:29.173 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:20:29.173 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:20:29.173 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:20:29.173 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:20:29.173 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:20:29.173 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:20:29.173 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:29.174 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:20:29.174 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:20:29.174 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:29.175 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:20:29.179 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:20:29.179 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:20:29.180 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:20:29.180 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:20:29.183 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:20:29.222 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:20:29.251 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:20:29.280 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:20:29.308 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:20:29.359 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:20:29.361 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:20:29.362 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 2 ms
12:20:29.362 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:20:29.362 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:20:29.363 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:20:29.364 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:20:29.368 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:20:29.371 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:20:29.375 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:20:29.378 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }
12:20:29.378 [Thread-14] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "u"
         ProjectionElem "v"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               Join
                  Join
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                        Var (name=y)
                  StatementPattern
                     Var (name=y)
                     Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                     Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
               StatementPattern
                  Var (name=x)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=u)
            StatementPattern
               Var (name=y)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=v)

12:20:29.379 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,u,v) :- ans2(u,v,x,y)
ans2(u,v,x,y) :- ans4(u,v,x,y), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,x,y) :- LeftJoin(ans8(u,x,y),ans9(v,y))
ans8(u,x,y) :- LeftJoin(ans16(x,y),ans17(u,x))
ans16(x,y) :- ans32(x,y), ans33(y)
ans32(x,y) :- ans64(x), ans65(x,y)
ans64(x) :- http://www.example.org/A4(x)
ans65(x,y) :- http://www.example.org/R(x,y)
ans33(y) :- http://www.example.org/A4(y)
ans17(u,x) :- http://www.example.org/S(x,u)
ans9(v,y) :- http://www.example.org/S(y,v)

12:20:29.381 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:29.382 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:20:29.382 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:29.382 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:20:29.382 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:20:29.384 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:29.384 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:29.384 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:29.384 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:20:29.384 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:20:29.389 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1tab5" AS VARCHAR(10485760)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                Tab4 QVIEW1
                                JOIN
                                Tab5 QVIEW2
                                ON
                                (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
                                (QVIEW1."twentytab4" < 20) AND
                                QVIEW1."unique2tab4" IS NOT NULL AND
                                QVIEW2."unique1tab5" IS NOT NULL
                                 )
                        JOIN
                        Tab4 QVIEW3
                        ON
                        (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                        (QVIEW3."twentytab4" < 20)
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW4
                ON
                (QVIEW1."unique2tab4" = QVIEW4."unique2tab5") AND
                QVIEW1."unique2tab4" IS NOT NULL AND
                QVIEW4."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW5
        ON
        (QVIEW2."unique1tab5" = QVIEW5."unique2tab5") AND
        QVIEW2."unique1tab5" IS NOT NULL AND
        QVIEW5."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1tab5" < 100000)
) SUB_QVIEW

12:20:29.389 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:20:46.610 [Thread-14] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:17647

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1tab5" AS VARCHAR(10485760)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                Tab4 QVIEW1
                                JOIN
                                Tab5 QVIEW2
                                ON
                                (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
                                (QVIEW1."twentytab4" < 20) AND
                                QVIEW1."unique2tab4" IS NOT NULL AND
                                QVIEW2."unique1tab5" IS NOT NULL
                                 )
                        JOIN
                        Tab4 QVIEW3
                        ON
                        (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                        (QVIEW3."twentytab4" < 20)
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW4
                ON
                (QVIEW1."unique2tab4" = QVIEW4."unique2tab5") AND
                QVIEW1."unique2tab4" IS NOT NULL AND
                QVIEW4."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW5
        ON
        (QVIEW2."unique1tab5" = QVIEW5."unique2tab5") AND
        QVIEW2."unique1tab5" IS NOT NULL AND
        QVIEW5."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
17647ms
The number of results:
=====================
100000
12:20:47.028 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:47.028 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:20:47.031 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:47.032 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:20:47.032 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:20:47.033 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:20:47.034 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:20:47.034 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:20:47.034 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:20:47.034 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:20:47.034 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:20:47.034 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:20:47.034 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:47.034 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:20:47.034 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:20:47.034 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:20:47.035 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:20:47.039 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:20:47.039 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:20:47.040 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:20:47.040 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:20:47.043 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:20:47.081 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:20:47.110 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:20:47.137 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:20:47.164 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:20:47.214 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:20:47.217 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:20:47.217 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 2 ms
12:20:47.217 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:20:47.217 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:20:47.219 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:20:47.219 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:20:47.224 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:20:47.226 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:20:47.230 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:20:47.235 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }
12:20:47.235 [Thread-15] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "z"
         ProjectionElem "u"
         ProjectionElem "v"
         ProjectionElem "w"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               LeftJoin
                  Join
                     Join
                        Join
                           Join
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                                 Var (name=-const-http://www.example.org/A3-uri, value=http://www.example.org/A3, anonymous)
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                                 Var (name=y)
                           StatementPattern
                              Var (name=y)
                              Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                              Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                        StatementPattern
                           Var (name=y)
                           Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                           Var (name=z)
                     StatementPattern
                        Var (name=z)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                  StatementPattern
                     Var (name=x)
                     Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                     Var (name=u)
               StatementPattern
                  Var (name=y)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=v)
            StatementPattern
               Var (name=z)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=w)

12:20:47.237 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,z,u,v,w) :- ans2(u,v,w,x,y,z)
ans2(u,v,w,x,y,z) :- ans4(u,v,w,x,y,z), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,w,x,y,z) :- LeftJoin(ans8(u,v,x,y,z),ans9(w,z))
ans8(u,v,x,y,z) :- LeftJoin(ans16(u,x,y,z),ans17(v,y))
ans16(u,x,y,z) :- LeftJoin(ans32(x,y,z),ans33(u,x))
ans32(x,y,z) :- ans64(x,y,z), ans65(z)
ans64(x,y,z) :- ans128(x,y), ans129(y,z)
ans128(x,y) :- ans256(x,y), ans257(y)
ans256(x,y) :- ans512(x), ans513(x,y)
ans512(x) :- http://www.example.org/A3(x)
ans513(x,y) :- http://www.example.org/R(x,y)
ans257(y) :- http://www.example.org/A4(y)
ans129(y,z) :- http://www.example.org/R(y,z)
ans65(z) :- http://www.example.org/A4(z)
ans33(u,x) :- http://www.example.org/S(x,u)
ans17(v,y) :- http://www.example.org/S(y,v)
ans9(w,z) :- http://www.example.org/S(z,w)

12:20:47.240 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:47.241 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:20:47.241 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:47.241 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:20:47.241 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:20:47.244 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:47.244 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:47.245 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:20:47.245 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:20:47.245 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:20:47.252 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab3" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", ('http://www.example.org/A/' || CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760))) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1tab5" AS VARCHAR(10485760)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1tab5" AS VARCHAR(10485760)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        Tab3 QVIEW1
                                                        JOIN
                                                        Tab5 QVIEW2
                                                        ON
                                                        (QVIEW1."unique2tab3" = QVIEW2."unique2tab5") AND
                                                        (QVIEW1."twentytab3" < 15) AND
                                                        QVIEW1."unique2tab3" IS NOT NULL AND
                                                        QVIEW2."unique1tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                Tab4 QVIEW3
                                                ON
                                                (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                                                (QVIEW3."twentytab4" < 20)
                                                 )
                                        JOIN
                                        Tab5 QVIEW4
                                        ON
                                        (QVIEW2."unique1tab5" = QVIEW4."unique2tab5") AND
                                        QVIEW4."unique1tab5" IS NOT NULL
                                         )
                                JOIN
                                Tab4 QVIEW5
                                ON
                                (QVIEW4."unique1tab5" = QVIEW5."unique2tab4") AND
                                (QVIEW5."twentytab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        Tab5 QVIEW6
                        ON
                        (QVIEW1."unique2tab3" = QVIEW6."unique2tab5") AND
                        QVIEW1."unique2tab3" IS NOT NULL AND
                        QVIEW6."unique1tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW7
                ON
                (QVIEW2."unique1tab5" = QVIEW7."unique2tab5") AND
                QVIEW2."unique1tab5" IS NOT NULL AND
                QVIEW7."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW8
        ON
        (QVIEW4."unique1tab5" = QVIEW8."unique2tab5") AND
        QVIEW4."unique1tab5" IS NOT NULL AND
        QVIEW8."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1tab5" < 100000)
) SUB_QVIEW

12:20:47.252 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:21:05.631 [Thread-15] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:19157

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab3" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", ('http://www.example.org/A/' || CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760))) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1tab5" AS VARCHAR(10485760)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1tab5" AS VARCHAR(10485760)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        Tab3 QVIEW1
                                                        JOIN
                                                        Tab5 QVIEW2
                                                        ON
                                                        (QVIEW1."unique2tab3" = QVIEW2."unique2tab5") AND
                                                        (QVIEW1."twentytab3" < 15) AND
                                                        QVIEW1."unique2tab3" IS NOT NULL AND
                                                        QVIEW2."unique1tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                Tab4 QVIEW3
                                                ON
                                                (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                                                (QVIEW3."twentytab4" < 20)
                                                 )
                                        JOIN
                                        Tab5 QVIEW4
                                        ON
                                        (QVIEW2."unique1tab5" = QVIEW4."unique2tab5") AND
                                        QVIEW4."unique1tab5" IS NOT NULL
                                         )
                                JOIN
                                Tab4 QVIEW5
                                ON
                                (QVIEW4."unique1tab5" = QVIEW5."unique2tab4") AND
                                (QVIEW5."twentytab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        Tab5 QVIEW6
                        ON
                        (QVIEW1."unique2tab3" = QVIEW6."unique2tab5") AND
                        QVIEW1."unique2tab3" IS NOT NULL AND
                        QVIEW6."unique1tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW7
                ON
                (QVIEW2."unique1tab5" = QVIEW7."unique2tab5") AND
                QVIEW2."unique1tab5" IS NOT NULL AND
                QVIEW7."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW8
        ON
        (QVIEW4."unique1tab5" = QVIEW8."unique2tab5") AND
        QVIEW4."unique1tab5" IS NOT NULL AND
        QVIEW8."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
19157ms
The number of results:
=====================
75000
12:21:06.393 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:21:06.393 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
12:21:06.397 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:21:06.397 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
12:21:06.397 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
12:21:06.399 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
12:21:06.399 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
12:21:06.399 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
12:21:06.399 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
12:21:06.399 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
12:21:06.399 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
12:21:06.400 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
12:21:06.400 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:21:06.400 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
12:21:06.400 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
12:21:06.400 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
12:21:06.401 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
12:21:06.404 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
12:21:06.405 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
12:21:06.405 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
12:21:06.405 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
12:21:06.408 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
12:21:06.447 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
12:21:06.476 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
12:21:06.504 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
12:21:06.533 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
12:21:06.585 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
12:21:06.587 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
12:21:06.588 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 2 ms
12:21:06.588 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:21:06.588 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
12:21:06.589 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
12:21:06.590 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5=Tab5[unique1tab5:4,unique2tab5:4:PK,twotab5:4,fourtab5:4,tentab5:4,twentytab5:4,onepercenttab5:4,tenpercenttab5:4,twentypercenttab5:4,fiftypercenttab5:4,unique3tab5:4,evenonepercenttab5:4,oddonepercenttab5:4,stringu1tab5:1,stringu2tab5:1,string4tab5:1]
Tab1=Tab1[unique1tab1:4,unique2tab1:4:PK,twotab1:4,fourtab1:4,tentab1:4,twentytab1:4,onepercenttab1:4,tenpercenttab1:4,twentypercenttab1:4,fiftypercenttab1:4,unique3tab1:4,evenonepercenttab1:4,oddonepercenttab1:4,stringu1tab1:1,stringu2tab1:1,string4tab1:1]
Tab2=Tab2[unique1tab2:4,unique2tab2:4:PK,twotab2:4,fourtab2:4,tentab2:4,twentytab2:4,onepercenttab2:4,tenpercenttab2:4,twentypercenttab2:4,fiftypercenttab2:4,unique3tab2:4,evenonepercenttab2:4,oddonepercenttab2:4,stringu1tab2:1,stringu2tab2:1,string4tab2:1]
Tab3=Tab3[unique1tab3:4,unique2tab3:4:PK,twotab3:4,fourtab3:4,tentab3:4,twentytab3:4,onepercenttab3:4,tenpercenttab3:4,twentypercenttab3:4,fiftypercenttab3:4,unique3tab3:4,evenonepercenttab3:4,oddonepercenttab3:4,stringu1tab3:1,stringu2tab3:1,string4tab3:1]
Tab4=Tab4[unique1tab4:4,unique2tab4:4:PK,twotab4:4,fourtab4:4,tentab4:4,twentytab4:4,onepercenttab4:4,tenpercenttab4:4,twentypercenttab4:4,fiftypercenttab4:4,unique3tab4:4,evenonepercenttab4:4,oddonepercenttab4:4,stringu1tab4:1,stringu2tab4:1,string4tab4:1]

12:21:06.594 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
12:21:06.596 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
12:21:06.600 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
12:21:06.605 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }
12:21:06.606 [Thread-16] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "z"
         ProjectionElem "u"
         ProjectionElem "v"
         ProjectionElem "w"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               LeftJoin
                  Join
                     Join
                        Join
                           Join
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                                 Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                                 Var (name=y)
                           StatementPattern
                              Var (name=y)
                              Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                              Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                        StatementPattern
                           Var (name=y)
                           Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                           Var (name=z)
                     StatementPattern
                        Var (name=z)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                  StatementPattern
                     Var (name=x)
                     Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                     Var (name=u)
               StatementPattern
                  Var (name=y)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=v)
            StatementPattern
               Var (name=z)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=w)

12:21:06.607 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,z,u,v,w) :- ans2(u,v,w,x,y,z)
ans2(u,v,w,x,y,z) :- ans4(u,v,w,x,y,z), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,w,x,y,z) :- LeftJoin(ans8(u,v,x,y,z),ans9(w,z))
ans8(u,v,x,y,z) :- LeftJoin(ans16(u,x,y,z),ans17(v,y))
ans16(u,x,y,z) :- LeftJoin(ans32(x,y,z),ans33(u,x))
ans32(x,y,z) :- ans64(x,y,z), ans65(z)
ans64(x,y,z) :- ans128(x,y), ans129(y,z)
ans128(x,y) :- ans256(x,y), ans257(y)
ans256(x,y) :- ans512(x), ans513(x,y)
ans512(x) :- http://www.example.org/A4(x)
ans513(x,y) :- http://www.example.org/R(x,y)
ans257(y) :- http://www.example.org/A4(y)
ans129(y,z) :- http://www.example.org/R(y,z)
ans65(z) :- http://www.example.org/A4(z)
ans33(u,x) :- http://www.example.org/S(x,u)
ans17(v,y) :- http://www.example.org/S(y,v)
ans9(w,z) :- http://www.example.org/S(z,w)

12:21:06.611 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:21:06.611 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
12:21:06.611 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

12:21:06.611 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
12:21:06.611 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
12:21:06.614 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:21:06.614 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:21:06.615 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

12:21:06.615 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
12:21:06.615 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
12:21:06.622 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", ('http://www.example.org/A/' || CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760))) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1tab5" AS VARCHAR(10485760)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1tab5" AS VARCHAR(10485760)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        Tab4 QVIEW1
                                                        JOIN
                                                        Tab5 QVIEW2
                                                        ON
                                                        (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
                                                        (QVIEW1."twentytab4" < 20) AND
                                                        QVIEW1."unique2tab4" IS NOT NULL AND
                                                        QVIEW2."unique1tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                Tab4 QVIEW3
                                                ON
                                                (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                                                (QVIEW3."twentytab4" < 20)
                                                 )
                                        JOIN
                                        Tab5 QVIEW4
                                        ON
                                        (QVIEW2."unique1tab5" = QVIEW4."unique2tab5") AND
                                        QVIEW4."unique1tab5" IS NOT NULL
                                         )
                                JOIN
                                Tab4 QVIEW5
                                ON
                                (QVIEW4."unique1tab5" = QVIEW5."unique2tab4") AND
                                (QVIEW5."twentytab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        Tab5 QVIEW6
                        ON
                        (QVIEW1."unique2tab4" = QVIEW6."unique2tab5") AND
                        QVIEW1."unique2tab4" IS NOT NULL AND
                        QVIEW6."unique1tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW7
                ON
                (QVIEW2."unique1tab5" = QVIEW7."unique2tab5") AND
                QVIEW2."unique1tab5" IS NOT NULL AND
                QVIEW7."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW8
        ON
        (QVIEW4."unique1tab5" = QVIEW8."unique2tab5") AND
        QVIEW4."unique1tab5" IS NOT NULL AND
        QVIEW8."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1tab5" < 100000)
) SUB_QVIEW

12:21:06.622 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
12:21:25.610 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:19515

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2tab4" AS VARCHAR(10485760))) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", ('http://www.example.org/A/' || CAST(QVIEW2."unique1tab5" AS VARCHAR(10485760))) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", ('http://www.example.org/A/' || CAST(QVIEW4."unique1tab5" AS VARCHAR(10485760))) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1tab5" AS VARCHAR(10485760)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1tab5" AS VARCHAR(10485760)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1tab5" AS VARCHAR(10485760)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        Tab4 QVIEW1
                                                        JOIN
                                                        Tab5 QVIEW2
                                                        ON
                                                        (QVIEW1."unique2tab4" = QVIEW2."unique2tab5") AND
                                                        (QVIEW1."twentytab4" < 20) AND
                                                        QVIEW1."unique2tab4" IS NOT NULL AND
                                                        QVIEW2."unique1tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                Tab4 QVIEW3
                                                ON
                                                (QVIEW2."unique1tab5" = QVIEW3."unique2tab4") AND
                                                (QVIEW3."twentytab4" < 20)
                                                 )
                                        JOIN
                                        Tab5 QVIEW4
                                        ON
                                        (QVIEW2."unique1tab5" = QVIEW4."unique2tab5") AND
                                        QVIEW4."unique1tab5" IS NOT NULL
                                         )
                                JOIN
                                Tab4 QVIEW5
                                ON
                                (QVIEW4."unique1tab5" = QVIEW5."unique2tab4") AND
                                (QVIEW5."twentytab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        Tab5 QVIEW6
                        ON
                        (QVIEW1."unique2tab4" = QVIEW6."unique2tab5") AND
                        QVIEW1."unique2tab4" IS NOT NULL AND
                        QVIEW6."unique1tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                Tab5 QVIEW7
                ON
                (QVIEW2."unique1tab5" = QVIEW7."unique2tab5") AND
                QVIEW2."unique1tab5" IS NOT NULL AND
                QVIEW7."unique1tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        Tab5 QVIEW8
        ON
        (QVIEW4."unique1tab5" = QVIEW8."unique2tab5") AND
        QVIEW4."unique1tab5" IS NOT NULL AND
        QVIEW8."unique1tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
19515ms
The number of results:
=====================
100000
