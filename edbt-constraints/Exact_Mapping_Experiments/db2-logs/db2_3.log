#logback.classic pattern: %d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
22:16:28.596 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:28.607 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:16:28.761 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:28.765 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:16:28.786 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:16:28.809 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:16:28.812 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:16:28.817 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:16:28.817 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:16:28.818 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:16:28.818 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:16:28.818 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:16:28.818 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:28.818 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:16:28.819 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:16:28.819 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:28.842 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:16:30.188 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:16:30.188 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:16:30.188 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:16:30.188 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:16:30.261 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:16:30.499 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:16:30.547 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:16:30.594 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:16:30.640 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:16:30.895 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:16:30.942 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:16:30.942 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 42 ms
22:16:30.942 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:30.942 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:31.033 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:16:31.037 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:16:31.052 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:16:31.058 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:16:31.468 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:16:31.514 [main] DEBUG o.o.query.parser.QueryParserRegistry - Registered service class org.openrdf.query.parser.sparql.SPARQLParserFactory
22:16:31.525 [main] DEBUG o.o.query.parser.QueryParserRegistry - Registered service class org.openrdf.query.parser.serql.SeRQLParserFactory
22:16:31.725 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 1
22:16:31.727 [Thread-1] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Slice ( limit=1 )
   Projection
      ProjectionElemList
         ProjectionElem "x"
      StatementPattern
         Var (name=x)
         Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
         Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)

22:16:31.733 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x) :- ans2(x)
ans2(x) :- http://www.example.org/A4(x)

22:16:31.735 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x) :- http://www.example.org/A4(x)

22:16:31.735 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:16:31.737 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x) :- http://www.example.org/A4(x)

22:16:31.737 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:16:31.738 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:16:31.739 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:31.740 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:31.743 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:31.743 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:16:31.743 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:16:31.749 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS "x"
 FROM 
"Tab4" QVIEW1
WHERE 
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 1


22:16:31.749 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:16:31.779 [Thread-1] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:299

The input SPARQL query:
=======================
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 1

The output SQL query:
=====================
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS "x"
 FROM 
"Tab4" QVIEW1
WHERE 
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 1


Query Execution Time:
=====================
299ms
The number of results:
=====================
1
22:16:31.811 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:31.812 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:16:31.825 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:31.826 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:16:31.827 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:16:31.833 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:16:31.836 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:16:31.836 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:16:31.836 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:16:31.836 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:16:31.836 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:16:31.836 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:16:31.836 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:31.837 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:16:31.837 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:16:31.838 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:31.846 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:16:32.213 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:16:32.213 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:16:32.213 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:16:32.214 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:16:32.219 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:16:32.238 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:16:32.249 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:16:32.260 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:16:32.271 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:16:32.347 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:16:32.361 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:16:32.361 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 14 ms
22:16:32.361 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:32.362 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:32.366 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:16:32.367 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:16:32.384 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:16:32.391 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:16:32.742 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:16:32.743 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 1001
22:16:32.744 [Thread-4] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Slice ( limit=1001 )
   Projection
      ProjectionElemList
         ProjectionElem "x"
      StatementPattern
         Var (name=x)
         Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
         Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)

22:16:32.744 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x) :- ans2(x)
ans2(x) :- http://www.example.org/A4(x)

22:16:32.745 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x) :- http://www.example.org/A4(x)

22:16:32.745 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:16:32.745 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x) :- http://www.example.org/A4(x)

22:16:32.745 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:16:32.746 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:16:32.747 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:32.747 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:32.747 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:32.747 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:16:32.747 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:16:32.750 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS "x"
 FROM 
"Tab4" QVIEW1
WHERE 
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 1001


22:16:32.751 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:16:32.758 [Thread-4] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:63

The input SPARQL query:
=======================
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 1001

The output SQL query:
=====================
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS "x"
 FROM 
"Tab4" QVIEW1
WHERE 
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 1001


Query Execution Time:
=====================
63ms
The number of results:
=====================
1001
22:16:32.821 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:32.821 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:16:32.834 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:32.835 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:16:32.836 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:16:32.841 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:16:32.844 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:16:32.844 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:16:32.844 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:16:32.844 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:16:32.844 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:16:32.844 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:16:32.844 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:32.845 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:16:32.845 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:16:32.846 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:32.851 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:16:33.214 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:16:33.214 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:16:33.214 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:16:33.215 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:16:33.219 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:16:33.238 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:16:33.249 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:16:33.260 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:16:33.270 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:16:33.338 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:16:33.351 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:16:33.351 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 12 ms
22:16:33.351 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:33.351 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:33.355 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:16:33.355 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:16:33.369 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:16:33.375 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:16:33.733 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:16:33.734 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 2001
22:16:33.735 [Thread-7] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Slice ( limit=2001 )
   Projection
      ProjectionElemList
         ProjectionElem "x"
      StatementPattern
         Var (name=x)
         Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
         Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)

22:16:33.735 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x) :- ans2(x)
ans2(x) :- http://www.example.org/A4(x)

22:16:33.736 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x) :- http://www.example.org/A4(x)

22:16:33.736 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:16:33.736 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x) :- http://www.example.org/A4(x)

22:16:33.736 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:16:33.737 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:16:33.737 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:33.738 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:33.738 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:33.738 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:16:33.738 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:16:33.741 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS "x"
 FROM 
"Tab4" QVIEW1
WHERE 
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 2001


22:16:33.741 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:16:33.748 [Thread-7] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:84

The input SPARQL query:
=======================
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 2001

The output SQL query:
=====================
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS "x"
 FROM 
"Tab4" QVIEW1
WHERE 
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 2001


Query Execution Time:
=====================
84ms
The number of results:
=====================
2001
22:16:33.832 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:33.833 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:16:33.845 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:33.846 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:16:33.846 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:16:33.851 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:16:33.854 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:16:33.854 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:16:33.854 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:16:33.854 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:16:33.854 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:16:33.854 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:16:33.854 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:33.855 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:16:33.855 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:16:33.856 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:33.861 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:16:34.205 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:16:34.205 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:16:34.205 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:16:34.205 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:16:34.208 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:16:34.226 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:16:34.236 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:16:34.245 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:16:34.254 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:16:34.311 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:16:34.322 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:16:34.322 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 11 ms
22:16:34.322 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:34.322 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:34.326 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:16:34.327 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:16:34.339 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:16:34.344 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:16:34.835 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:16:34.837 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 3001
22:16:34.837 [Thread-10] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Slice ( limit=3001 )
   Projection
      ProjectionElemList
         ProjectionElem "x"
      StatementPattern
         Var (name=x)
         Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
         Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)

22:16:34.837 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x) :- ans2(x)
ans2(x) :- http://www.example.org/A4(x)

22:16:34.838 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x) :- http://www.example.org/A4(x)

22:16:34.838 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:16:34.838 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x) :- http://www.example.org/A4(x)

22:16:34.838 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:16:34.839 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:16:34.839 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:34.839 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:34.839 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1)) :- Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1), LT(t6_1,20), IS_NOT_NULL(t2_1)

22:16:34.840 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:16:34.840 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:16:34.842 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS "x"
 FROM 
"Tab4" QVIEW1
WHERE 
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 3001


22:16:34.842 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:16:34.849 [Thread-10] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:80

The input SPARQL query:
=======================
SELECT ?x WHERE { ?x a <http://www.example.org/A4> } LIMIT 3001

The output SQL query:
=====================
SELECT *
FROM (
SELECT 
   1 AS "xQuestType", NULL AS "xLang", ('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS "x"
 FROM 
"Tab4" QVIEW1
WHERE 
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW
LIMIT 3001


Query Execution Time:
=====================
80ms
The number of results:
=====================
3001
22:16:34.930 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:34.930 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:16:34.942 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:34.943 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:16:34.943 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:16:34.948 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:16:34.950 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:16:34.950 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:16:34.950 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:16:34.951 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:16:34.951 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:16:34.951 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:16:34.951 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:34.951 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:16:34.951 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:16:34.952 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:16:34.956 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:16:35.339 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:16:35.339 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:16:35.339 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:16:35.339 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:16:35.343 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:16:35.359 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:16:35.367 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:16:35.375 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:16:35.383 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:16:35.441 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:16:35.448 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:16:35.448 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 7 ms
22:16:35.449 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:35.449 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:16:35.452 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:16:35.453 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:16:35.464 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:16:35.469 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:16:35.828 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:16:35.840 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/>  SELECT DISTINCT ?x  ?u      WHERE {?x a :A2. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 
22:16:35.841 [Thread-13] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "u"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
               Var (name=-const-http://www.example.org/A2-uri, value=http://www.example.org/A2, anonymous)
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=u)

22:16:35.851 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,u) :- ans2(u,x)
ans2(u,x) :- ans4(u,x), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,x) :- LeftJoin(ans8(x),ans9(u,x))
ans8(x) :- http://www.example.org/A2(x)
ans9(u,x) :- http://www.example.org/S(x,u)

22:16:35.859 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,u) :- LeftJoin(http://www.example.org/A2(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:16:35.859 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:16:35.860 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,u) :- LeftJoin(http://www.example.org/A2(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:16:35.860 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:16:35.860 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:16:35.861 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

22:16:35.862 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

22:16:35.862 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

22:16:35.862 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:16:35.862 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:16:35.867 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab2" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1Tab5" AS VARCHAR(500)) AS "u"
 FROM 

        (
        "Tab2" QVIEW1
        LEFT OUTER JOIN
        "Tab5" QVIEW2
        ON
        (QVIEW1."unique2Tab2" = QVIEW2."unique2Tab5") AND
        QVIEW1."unique2Tab2" IS NOT NULL AND
        QVIEW2."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1Tab5" < 100000) AND
(QVIEW1."twentyTab2" < 10) AND
QVIEW1."unique2Tab2" IS NOT NULL
) SUB_QVIEW

22:16:35.867 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:18:12.746 [Thread-13] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:97348

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/>  SELECT DISTINCT ?x  ?u      WHERE {?x a :A2. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab2" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1Tab5" AS VARCHAR(500)) AS "u"
 FROM 

        (
        "Tab2" QVIEW1
        LEFT OUTER JOIN
        "Tab5" QVIEW2
        ON
        (QVIEW1."unique2Tab2" = QVIEW2."unique2Tab5") AND
        QVIEW1."unique2Tab2" IS NOT NULL AND
        QVIEW2."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1Tab5" < 100000) AND
(QVIEW1."twentyTab2" < 10) AND
QVIEW1."unique2Tab2" IS NOT NULL
) SUB_QVIEW

Query Execution Time:
=====================
97348ms
The number of results:
=====================
50000
22:18:13.185 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:18:13.185 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:18:13.192 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:18:13.192 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:18:13.192 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:18:13.195 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:18:13.196 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:18:13.197 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:18:13.197 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:18:13.197 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:18:13.197 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:18:13.197 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:18:13.197 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:18:13.197 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:18:13.197 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:18:13.197 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:18:13.200 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:18:13.564 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:18:13.564 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:18:13.565 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:18:13.565 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:18:13.568 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:18:13.684 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:18:13.692 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:18:13.699 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:18:13.706 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:18:13.791 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:18:13.798 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:18:13.798 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 7 ms
22:18:13.798 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:18:13.798 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:18:13.801 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:18:13.801 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:18:13.812 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:18:13.817 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:18:14.179 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:18:14.181 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/>  SELECT DISTINCT ?x  ?u      WHERE {?x a :A4. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 
22:18:14.181 [Thread-16] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "u"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
               Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=u)

22:18:14.182 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,u) :- ans2(u,x)
ans2(u,x) :- ans4(u,x), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,x) :- LeftJoin(ans8(x),ans9(u,x))
ans8(x) :- http://www.example.org/A4(x)
ans9(u,x) :- http://www.example.org/S(x,u)

22:18:14.184 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,u) :- LeftJoin(http://www.example.org/A4(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:18:14.184 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:18:14.184 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,u) :- LeftJoin(http://www.example.org/A4(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:18:14.184 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:18:14.184 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:18:14.186 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

22:18:14.186 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

22:18:14.186 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

22:18:14.186 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:18:14.186 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:18:14.191 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1Tab5" AS VARCHAR(500)) AS "u"
 FROM 

        (
        "Tab4" QVIEW1
        LEFT OUTER JOIN
        "Tab5" QVIEW2
        ON
        (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
        QVIEW1."unique2Tab4" IS NOT NULL AND
        QVIEW2."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1Tab5" < 100000) AND
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW

22:18:14.191 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:19:49.411 [Thread-16] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:95990

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/>  SELECT DISTINCT ?x  ?u      WHERE {?x a :A4. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1Tab5" AS VARCHAR(500)) AS "u"
 FROM 

        (
        "Tab4" QVIEW1
        LEFT OUTER JOIN
        "Tab5" QVIEW2
        ON
        (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
        QVIEW1."unique2Tab4" IS NOT NULL AND
        QVIEW2."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1Tab5" < 100000) AND
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW

Query Execution Time:
=====================
95990ms
The number of results:
=====================
100000
22:19:50.177 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:19:50.177 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:19:50.182 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:19:50.182 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:19:50.182 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:19:50.184 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:19:50.185 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:19:50.185 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:19:50.185 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:19:50.185 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:19:50.185 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:19:50.185 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:19:50.185 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:19:50.186 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:19:50.186 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:19:50.186 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:19:50.188 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:19:50.576 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:19:50.576 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:19:50.576 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:19:50.576 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:19:50.579 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:19:50.700 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:19:50.708 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:19:50.716 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:19:50.723 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:19:50.802 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:19:50.808 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:19:50.808 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 5 ms
22:19:50.808 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:19:50.808 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:19:50.811 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:19:50.811 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:19:50.820 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:19:50.823 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:19:51.185 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:19:51.189 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }
22:19:51.189 [Thread-19] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "u"
         ProjectionElem "v"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               Join
                  Join
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A3-uri, value=http://www.example.org/A3, anonymous)
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                        Var (name=y)
                  StatementPattern
                     Var (name=y)
                     Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                     Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
               StatementPattern
                  Var (name=x)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=u)
            StatementPattern
               Var (name=y)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=v)

22:19:51.191 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,u,v) :- ans2(u,v,x,y)
ans2(u,v,x,y) :- ans4(u,v,x,y), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,x,y) :- LeftJoin(ans8(u,x,y),ans9(v,y))
ans8(u,x,y) :- LeftJoin(ans16(x,y),ans17(u,x))
ans16(x,y) :- ans32(x,y), ans33(y)
ans32(x,y) :- ans64(x), ans65(x,y)
ans64(x) :- http://www.example.org/A3(x)
ans65(x,y) :- http://www.example.org/R(x,y)
ans33(y) :- http://www.example.org/A4(y)
ans17(u,x) :- http://www.example.org/S(x,u)
ans9(v,y) :- http://www.example.org/S(y,v)

22:19:51.194 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:19:51.194 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:19:51.194 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:19:51.194 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:19:51.194 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:19:51.197 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

22:19:51.197 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

22:19:51.198 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

22:19:51.198 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:19:51.198 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:19:51.209 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab3" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1Tab5" AS VARCHAR(500)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                "Tab3" QVIEW1
                                JOIN
                                "Tab5" QVIEW2
                                ON
                                (QVIEW1."unique2Tab3" = QVIEW2."unique2Tab5") AND
                                (QVIEW1."twentyTab3" < 15) AND
                                QVIEW1."unique2Tab3" IS NOT NULL AND
                                QVIEW2."unique1Tab5" IS NOT NULL
                                 )
                        JOIN
                        "Tab4" QVIEW3
                        ON
                        (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                        (QVIEW3."twentyTab4" < 20)
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW4
                ON
                (QVIEW1."unique2Tab3" = QVIEW4."unique2Tab5") AND
                QVIEW1."unique2Tab3" IS NOT NULL AND
                QVIEW4."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW5
        ON
        (QVIEW2."unique1Tab5" = QVIEW5."unique2Tab5") AND
        QVIEW2."unique1Tab5" IS NOT NULL AND
        QVIEW5."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1Tab5" < 100000)
) SUB_QVIEW

22:19:51.209 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:21:33.598 [Thread-19] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:103071

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab3" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1Tab5" AS VARCHAR(500)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                "Tab3" QVIEW1
                                JOIN
                                "Tab5" QVIEW2
                                ON
                                (QVIEW1."unique2Tab3" = QVIEW2."unique2Tab5") AND
                                (QVIEW1."twentyTab3" < 15) AND
                                QVIEW1."unique2Tab3" IS NOT NULL AND
                                QVIEW2."unique1Tab5" IS NOT NULL
                                 )
                        JOIN
                        "Tab4" QVIEW3
                        ON
                        (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                        (QVIEW3."twentyTab4" < 20)
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW4
                ON
                (QVIEW1."unique2Tab3" = QVIEW4."unique2Tab5") AND
                QVIEW1."unique2Tab3" IS NOT NULL AND
                QVIEW4."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW5
        ON
        (QVIEW2."unique1Tab5" = QVIEW5."unique2Tab5") AND
        QVIEW2."unique1Tab5" IS NOT NULL AND
        QVIEW5."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1Tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
103071ms
The number of results:
=====================
75000
22:21:34.269 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:21:34.269 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:21:34.278 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:21:34.279 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:21:34.279 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:21:34.282 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:21:34.284 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:21:34.284 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:21:34.284 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:21:34.284 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:21:34.284 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:21:34.284 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:21:34.285 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:21:34.285 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:21:34.285 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:21:34.285 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:21:34.288 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:21:34.659 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:21:34.659 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:21:34.659 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:21:34.659 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:21:34.661 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:21:34.771 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:21:34.778 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:21:34.785 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:21:34.792 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:21:34.852 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:21:34.858 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:21:34.858 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 5 ms
22:21:34.858 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:21:34.858 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:21:34.860 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:21:34.861 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:21:34.868 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:21:34.871 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:21:35.262 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:21:35.266 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }
22:21:35.266 [Thread-22] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "u"
         ProjectionElem "v"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               Join
                  Join
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                        Var (name=y)
                  StatementPattern
                     Var (name=y)
                     Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                     Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
               StatementPattern
                  Var (name=x)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=u)
            StatementPattern
               Var (name=y)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=v)

22:21:35.267 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,u,v) :- ans2(u,v,x,y)
ans2(u,v,x,y) :- ans4(u,v,x,y), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,x,y) :- LeftJoin(ans8(u,x,y),ans9(v,y))
ans8(u,x,y) :- LeftJoin(ans16(x,y),ans17(u,x))
ans16(x,y) :- ans32(x,y), ans33(y)
ans32(x,y) :- ans64(x), ans65(x,y)
ans64(x) :- http://www.example.org/A4(x)
ans65(x,y) :- http://www.example.org/R(x,y)
ans33(y) :- http://www.example.org/A4(y)
ans17(u,x) :- http://www.example.org/S(x,u)
ans9(v,y) :- http://www.example.org/S(y,v)

22:21:35.269 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:21:35.269 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:21:35.269 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:21:35.269 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:21:35.269 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:21:35.270 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

22:21:35.270 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

22:21:35.271 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

22:21:35.271 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:21:35.271 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:21:35.274 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1Tab5" AS VARCHAR(500)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                "Tab4" QVIEW1
                                JOIN
                                "Tab5" QVIEW2
                                ON
                                (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
                                (QVIEW1."twentyTab4" < 20) AND
                                QVIEW1."unique2Tab4" IS NOT NULL AND
                                QVIEW2."unique1Tab5" IS NOT NULL
                                 )
                        JOIN
                        "Tab4" QVIEW3
                        ON
                        (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                        (QVIEW3."twentyTab4" < 20)
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW4
                ON
                (QVIEW1."unique2Tab4" = QVIEW4."unique2Tab5") AND
                QVIEW1."unique2Tab4" IS NOT NULL AND
                QVIEW4."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW5
        ON
        (QVIEW2."unique1Tab5" = QVIEW5."unique2Tab5") AND
        QVIEW2."unique1Tab5" IS NOT NULL AND
        QVIEW5."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1Tab5" < 100000)
) SUB_QVIEW

22:21:35.274 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:23:10.880 [Thread-22] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:96646

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1Tab5" AS VARCHAR(500)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                "Tab4" QVIEW1
                                JOIN
                                "Tab5" QVIEW2
                                ON
                                (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
                                (QVIEW1."twentyTab4" < 20) AND
                                QVIEW1."unique2Tab4" IS NOT NULL AND
                                QVIEW2."unique1Tab5" IS NOT NULL
                                 )
                        JOIN
                        "Tab4" QVIEW3
                        ON
                        (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                        (QVIEW3."twentyTab4" < 20)
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW4
                ON
                (QVIEW1."unique2Tab4" = QVIEW4."unique2Tab5") AND
                QVIEW1."unique2Tab4" IS NOT NULL AND
                QVIEW4."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW5
        ON
        (QVIEW2."unique1Tab5" = QVIEW5."unique2Tab5") AND
        QVIEW2."unique1Tab5" IS NOT NULL AND
        QVIEW5."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1Tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
96646ms
The number of results:
=====================
100000
22:23:11.921 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:23:11.921 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:23:11.930 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:23:11.931 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:23:11.931 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:23:11.934 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:23:11.936 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:23:11.936 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:23:11.936 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:23:11.936 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:23:11.936 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:23:11.936 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:23:11.937 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:23:11.937 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:23:11.937 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:23:11.937 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:23:11.940 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:23:12.291 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:23:12.291 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:23:12.291 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:23:12.291 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:23:12.295 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:23:12.410 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:23:12.421 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:23:12.427 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:23:12.434 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:23:12.487 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:23:12.492 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:23:12.492 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 5 ms
22:23:12.492 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:23:12.492 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:23:12.494 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:23:12.495 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:23:12.502 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:23:12.505 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:23:12.879 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:23:12.888 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }
22:23:12.889 [Thread-25] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "z"
         ProjectionElem "u"
         ProjectionElem "v"
         ProjectionElem "w"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               LeftJoin
                  Join
                     Join
                        Join
                           Join
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                                 Var (name=-const-http://www.example.org/A3-uri, value=http://www.example.org/A3, anonymous)
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                                 Var (name=y)
                           StatementPattern
                              Var (name=y)
                              Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                              Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                        StatementPattern
                           Var (name=y)
                           Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                           Var (name=z)
                     StatementPattern
                        Var (name=z)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                  StatementPattern
                     Var (name=x)
                     Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                     Var (name=u)
               StatementPattern
                  Var (name=y)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=v)
            StatementPattern
               Var (name=z)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=w)

22:23:12.891 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,z,u,v,w) :- ans2(u,v,w,x,y,z)
ans2(u,v,w,x,y,z) :- ans4(u,v,w,x,y,z), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,w,x,y,z) :- LeftJoin(ans8(u,v,x,y,z),ans9(w,z))
ans8(u,v,x,y,z) :- LeftJoin(ans16(u,x,y,z),ans17(v,y))
ans16(u,x,y,z) :- LeftJoin(ans32(x,y,z),ans33(u,x))
ans32(x,y,z) :- ans64(x,y,z), ans65(z)
ans64(x,y,z) :- ans128(x,y), ans129(y,z)
ans128(x,y) :- ans256(x,y), ans257(y)
ans256(x,y) :- ans512(x), ans513(x,y)
ans512(x) :- http://www.example.org/A3(x)
ans513(x,y) :- http://www.example.org/R(x,y)
ans257(y) :- http://www.example.org/A4(y)
ans129(y,z) :- http://www.example.org/R(y,z)
ans65(z) :- http://www.example.org/A4(z)
ans33(u,x) :- http://www.example.org/S(x,u)
ans17(v,y) :- http://www.example.org/S(y,v)
ans9(w,z) :- http://www.example.org/S(z,w)

22:23:12.896 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:23:12.896 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:23:12.896 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:23:12.896 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:23:12.896 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:23:12.901 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

22:23:12.901 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

22:23:12.901 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

22:23:12.901 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:23:12.901 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:23:12.913 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab3" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", CAST(('http://www.example.org/A/' || CAST(QVIEW4."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1Tab5" AS VARCHAR(500)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1Tab5" AS VARCHAR(500)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        "Tab3" QVIEW1
                                                        JOIN
                                                        "Tab5" QVIEW2
                                                        ON
                                                        (QVIEW1."unique2Tab3" = QVIEW2."unique2Tab5") AND
                                                        (QVIEW1."twentyTab3" < 15) AND
                                                        QVIEW1."unique2Tab3" IS NOT NULL AND
                                                        QVIEW2."unique1Tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                "Tab4" QVIEW3
                                                ON
                                                (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                                                (QVIEW3."twentyTab4" < 20)
                                                 )
                                        JOIN
                                        "Tab5" QVIEW4
                                        ON
                                        (QVIEW2."unique1Tab5" = QVIEW4."unique2Tab5") AND
                                        QVIEW4."unique1Tab5" IS NOT NULL
                                         )
                                JOIN
                                "Tab4" QVIEW5
                                ON
                                (QVIEW4."unique1Tab5" = QVIEW5."unique2Tab4") AND
                                (QVIEW5."twentyTab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        "Tab5" QVIEW6
                        ON
                        (QVIEW1."unique2Tab3" = QVIEW6."unique2Tab5") AND
                        QVIEW1."unique2Tab3" IS NOT NULL AND
                        QVIEW6."unique1Tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW7
                ON
                (QVIEW2."unique1Tab5" = QVIEW7."unique2Tab5") AND
                QVIEW2."unique1Tab5" IS NOT NULL AND
                QVIEW7."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW8
        ON
        (QVIEW4."unique1Tab5" = QVIEW8."unique2Tab5") AND
        QVIEW4."unique1Tab5" IS NOT NULL AND
        QVIEW8."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1Tab5" < 100000)
) SUB_QVIEW

22:23:12.913 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:39:49.121 [Thread-25] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:997572

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab3" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", CAST(('http://www.example.org/A/' || CAST(QVIEW4."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1Tab5" AS VARCHAR(500)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1Tab5" AS VARCHAR(500)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        "Tab3" QVIEW1
                                                        JOIN
                                                        "Tab5" QVIEW2
                                                        ON
                                                        (QVIEW1."unique2Tab3" = QVIEW2."unique2Tab5") AND
                                                        (QVIEW1."twentyTab3" < 15) AND
                                                        QVIEW1."unique2Tab3" IS NOT NULL AND
                                                        QVIEW2."unique1Tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                "Tab4" QVIEW3
                                                ON
                                                (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                                                (QVIEW3."twentyTab4" < 20)
                                                 )
                                        JOIN
                                        "Tab5" QVIEW4
                                        ON
                                        (QVIEW2."unique1Tab5" = QVIEW4."unique2Tab5") AND
                                        QVIEW4."unique1Tab5" IS NOT NULL
                                         )
                                JOIN
                                "Tab4" QVIEW5
                                ON
                                (QVIEW4."unique1Tab5" = QVIEW5."unique2Tab4") AND
                                (QVIEW5."twentyTab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        "Tab5" QVIEW6
                        ON
                        (QVIEW1."unique2Tab3" = QVIEW6."unique2Tab5") AND
                        QVIEW1."unique2Tab3" IS NOT NULL AND
                        QVIEW6."unique1Tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW7
                ON
                (QVIEW2."unique1Tab5" = QVIEW7."unique2Tab5") AND
                QVIEW2."unique1Tab5" IS NOT NULL AND
                QVIEW7."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW8
        ON
        (QVIEW4."unique1Tab5" = QVIEW8."unique2Tab5") AND
        QVIEW4."unique1Tab5" IS NOT NULL AND
        QVIEW8."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1Tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
997572ms
The number of results:
=====================
75000
22:39:50.457 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:39:50.457 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:39:50.461 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:39:50.461 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:39:50.461 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:39:50.463 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:39:50.464 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:39:50.464 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:39:50.464 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:39:50.464 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:39:50.464 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:39:50.464 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:39:50.464 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:39:50.464 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:39:50.464 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:39:50.464 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:39:50.466 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:39:50.828 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:39:50.828 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:39:50.828 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:39:50.828 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:39:50.831 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:39:51.220 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:39:51.228 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:39:51.235 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:39:51.242 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:39:51.306 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:39:51.310 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:39:51.310 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 4 ms
22:39:51.310 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:39:51.310 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:39:51.312 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:39:51.313 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:39:51.319 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:39:51.322 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:39:51.686 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:39:51.690 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }
22:39:51.691 [Thread-28] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "z"
         ProjectionElem "u"
         ProjectionElem "v"
         ProjectionElem "w"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               LeftJoin
                  Join
                     Join
                        Join
                           Join
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                                 Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                                 Var (name=y)
                           StatementPattern
                              Var (name=y)
                              Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                              Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                        StatementPattern
                           Var (name=y)
                           Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                           Var (name=z)
                     StatementPattern
                        Var (name=z)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                  StatementPattern
                     Var (name=x)
                     Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                     Var (name=u)
               StatementPattern
                  Var (name=y)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=v)
            StatementPattern
               Var (name=z)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=w)

22:39:51.693 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,z,u,v,w) :- ans2(u,v,w,x,y,z)
ans2(u,v,w,x,y,z) :- ans4(u,v,w,x,y,z), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,w,x,y,z) :- LeftJoin(ans8(u,v,x,y,z),ans9(w,z))
ans8(u,v,x,y,z) :- LeftJoin(ans16(u,x,y,z),ans17(v,y))
ans16(u,x,y,z) :- LeftJoin(ans32(x,y,z),ans33(u,x))
ans32(x,y,z) :- ans64(x,y,z), ans65(z)
ans64(x,y,z) :- ans128(x,y), ans129(y,z)
ans128(x,y) :- ans256(x,y), ans257(y)
ans256(x,y) :- ans512(x), ans513(x,y)
ans512(x) :- http://www.example.org/A4(x)
ans513(x,y) :- http://www.example.org/R(x,y)
ans257(y) :- http://www.example.org/A4(y)
ans129(y,z) :- http://www.example.org/R(y,z)
ans65(z) :- http://www.example.org/A4(z)
ans33(u,x) :- http://www.example.org/S(x,u)
ans17(v,y) :- http://www.example.org/S(y,v)
ans9(w,z) :- http://www.example.org/S(z,w)

22:39:51.698 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:39:51.698 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:39:51.698 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:39:51.698 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:39:51.698 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:39:51.702 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

22:39:51.702 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

22:39:51.702 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

22:39:51.703 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:39:51.703 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:39:51.712 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", CAST(('http://www.example.org/A/' || CAST(QVIEW4."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1Tab5" AS VARCHAR(500)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1Tab5" AS VARCHAR(500)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        "Tab4" QVIEW1
                                                        JOIN
                                                        "Tab5" QVIEW2
                                                        ON
                                                        (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
                                                        (QVIEW1."twentyTab4" < 20) AND
                                                        QVIEW1."unique2Tab4" IS NOT NULL AND
                                                        QVIEW2."unique1Tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                "Tab4" QVIEW3
                                                ON
                                                (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                                                (QVIEW3."twentyTab4" < 20)
                                                 )
                                        JOIN
                                        "Tab5" QVIEW4
                                        ON
                                        (QVIEW2."unique1Tab5" = QVIEW4."unique2Tab5") AND
                                        QVIEW4."unique1Tab5" IS NOT NULL
                                         )
                                JOIN
                                "Tab4" QVIEW5
                                ON
                                (QVIEW4."unique1Tab5" = QVIEW5."unique2Tab4") AND
                                (QVIEW5."twentyTab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        "Tab5" QVIEW6
                        ON
                        (QVIEW1."unique2Tab4" = QVIEW6."unique2Tab5") AND
                        QVIEW1."unique2Tab4" IS NOT NULL AND
                        QVIEW6."unique1Tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW7
                ON
                (QVIEW2."unique1Tab5" = QVIEW7."unique2Tab5") AND
                QVIEW2."unique1Tab5" IS NOT NULL AND
                QVIEW7."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW8
        ON
        (QVIEW4."unique1Tab5" = QVIEW8."unique2Tab5") AND
        QVIEW4."unique1Tab5" IS NOT NULL AND
        QVIEW8."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1Tab5" < 100000)
) SUB_QVIEW

22:39:51.713 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
22:58:40.547 [Thread-28] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:1130156

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", CAST(('http://www.example.org/A/' || CAST(QVIEW4."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1Tab5" AS VARCHAR(500)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1Tab5" AS VARCHAR(500)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        "Tab4" QVIEW1
                                                        JOIN
                                                        "Tab5" QVIEW2
                                                        ON
                                                        (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
                                                        (QVIEW1."twentyTab4" < 20) AND
                                                        QVIEW1."unique2Tab4" IS NOT NULL AND
                                                        QVIEW2."unique1Tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                "Tab4" QVIEW3
                                                ON
                                                (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                                                (QVIEW3."twentyTab4" < 20)
                                                 )
                                        JOIN
                                        "Tab5" QVIEW4
                                        ON
                                        (QVIEW2."unique1Tab5" = QVIEW4."unique2Tab5") AND
                                        QVIEW4."unique1Tab5" IS NOT NULL
                                         )
                                JOIN
                                "Tab4" QVIEW5
                                ON
                                (QVIEW4."unique1Tab5" = QVIEW5."unique2Tab4") AND
                                (QVIEW5."twentyTab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        "Tab5" QVIEW6
                        ON
                        (QVIEW1."unique2Tab4" = QVIEW6."unique2Tab5") AND
                        QVIEW1."unique2Tab4" IS NOT NULL AND
                        QVIEW6."unique1Tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW7
                ON
                (QVIEW2."unique1Tab5" = QVIEW7."unique2Tab5") AND
                QVIEW2."unique1Tab5" IS NOT NULL AND
                QVIEW7."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW8
        ON
        (QVIEW4."unique1Tab5" = QVIEW8."unique2Tab5") AND
        QVIEW4."unique1Tab5" IS NOT NULL AND
        QVIEW8."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1Tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
1130156ms
The number of results:
=====================
100000
22:58:41.853 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:58:41.853 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
22:58:41.861 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:58:41.861 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
22:58:41.861 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
22:58:41.864 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
22:58:41.866 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
22:58:41.866 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
22:58:41.866 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
22:58:41.866 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
22:58:41.866 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
22:58:41.866 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
22:58:41.866 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:58:41.866 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
22:58:41.866 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
22:58:41.867 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
22:58:41.869 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
22:58:42.246 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
22:58:42.246 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
22:58:42.246 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
22:58:42.246 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
22:58:42.249 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
22:58:42.357 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
22:58:42.365 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
22:58:42.372 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
22:58:42.378 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
22:58:42.499 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
22:58:42.503 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
22:58:42.503 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 4 ms
22:58:42.503 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:58:42.504 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
22:58:42.505 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
22:58:42.506 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

22:58:42.512 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
22:58:42.515 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
22:58:42.884 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
22:58:42.886 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/>  SELECT DISTINCT ?x  ?u      WHERE {?x a :A2. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 
22:58:42.887 [Thread-31] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "u"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
               Var (name=-const-http://www.example.org/A2-uri, value=http://www.example.org/A2, anonymous)
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=u)

22:58:42.887 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,u) :- ans2(u,x)
ans2(u,x) :- ans4(u,x), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,x) :- LeftJoin(ans8(x),ans9(u,x))
ans8(x) :- http://www.example.org/A2(x)
ans9(u,x) :- http://www.example.org/S(x,u)

22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,u) :- LeftJoin(http://www.example.org/A2(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,u) :- LeftJoin(http://www.example.org/A2(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab2(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,10),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
22:58:42.888 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
22:58:42.889 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab2" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1Tab5" AS VARCHAR(500)) AS "u"
 FROM 

        (
        "Tab2" QVIEW1
        LEFT OUTER JOIN
        "Tab5" QVIEW2
        ON
        (QVIEW1."unique2Tab2" = QVIEW2."unique2Tab5") AND
        QVIEW1."unique2Tab2" IS NOT NULL AND
        QVIEW2."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1Tab5" < 100000) AND
(QVIEW1."twentyTab2" < 10) AND
QVIEW1."unique2Tab2" IS NOT NULL
) SUB_QVIEW

22:58:42.889 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
23:00:20.054 [Thread-31] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:97416

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/>  SELECT DISTINCT ?x  ?u      WHERE {?x a :A2. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab2" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1Tab5" AS VARCHAR(500)) AS "u"
 FROM 

        (
        "Tab2" QVIEW1
        LEFT OUTER JOIN
        "Tab5" QVIEW2
        ON
        (QVIEW1."unique2Tab2" = QVIEW2."unique2Tab5") AND
        QVIEW1."unique2Tab2" IS NOT NULL AND
        QVIEW2."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1Tab5" < 100000) AND
(QVIEW1."twentyTab2" < 10) AND
QVIEW1."unique2Tab2" IS NOT NULL
) SUB_QVIEW

Query Execution Time:
=====================
97416ms
The number of results:
=====================
50000
23:00:20.311 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:00:20.311 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
23:00:20.318 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:00:20.319 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
23:00:20.319 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
23:00:20.322 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
23:00:20.323 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
23:00:20.324 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
23:00:20.324 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
23:00:20.324 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
23:00:20.324 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
23:00:20.324 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
23:00:20.324 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:00:20.324 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
23:00:20.324 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
23:00:20.325 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:00:20.327 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
23:00:20.703 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
23:00:20.703 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
23:00:20.703 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
23:00:20.703 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
23:00:20.706 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
23:00:20.815 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
23:00:20.823 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
23:00:20.829 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
23:00:20.836 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
23:00:20.887 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
23:00:20.891 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
23:00:20.891 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 4 ms
23:00:20.891 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:00:20.891 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:00:20.893 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
23:00:20.894 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

23:00:20.900 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
23:00:20.902 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
23:00:21.258 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
23:00:21.260 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/>  SELECT DISTINCT ?x  ?u      WHERE {?x a :A4. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 
23:00:21.261 [Thread-34] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "u"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
               Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
            StatementPattern
               Var (name=x)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=u)

23:00:21.261 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,u) :- ans2(u,x)
ans2(u,x) :- ans4(u,x), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,x) :- LeftJoin(ans8(x),ans9(u,x))
ans8(x) :- http://www.example.org/A4(x)
ans9(u,x) :- http://www.example.org/S(x,u)

23:00:21.262 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,u) :- LeftJoin(http://www.example.org/A4(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:00:21.263 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
23:00:21.263 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,u) :- LeftJoin(http://www.example.org/A4(x),http://www.example.org/S(x,u)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:00:21.263 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
23:00:21.263 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
23:00:21.264 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

23:00:21.264 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

23:00:21.264 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),http://www.w3.org/2001/XMLSchema#integer(t1_2)) :- LeftJoin(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_2),http://www.w3.org/2001/XMLSchema#integer(100000))

23:00:21.264 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
23:00:21.264 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
23:00:21.266 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1Tab5" AS VARCHAR(500)) AS "u"
 FROM 

        (
        "Tab4" QVIEW1
        LEFT OUTER JOIN
        "Tab5" QVIEW2
        ON
        (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
        QVIEW1."unique2Tab4" IS NOT NULL AND
        QVIEW2."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1Tab5" < 100000) AND
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW

23:00:21.266 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
23:01:55.574 [Thread-34] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:94819

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/>  SELECT DISTINCT ?x  ?u      WHERE {?x a :A4. OPTIONAL{ ?x :S ?u }  FILTER (?u < 100000) } 

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW2."unique1Tab5" AS VARCHAR(500)) AS "u"
 FROM 

        (
        "Tab4" QVIEW1
        LEFT OUTER JOIN
        "Tab5" QVIEW2
        ON
        (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
        QVIEW1."unique2Tab4" IS NOT NULL AND
        QVIEW2."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW2."unique1Tab5" < 100000) AND
(QVIEW1."twentyTab4" < 20) AND
QVIEW1."unique2Tab4" IS NOT NULL
) SUB_QVIEW

Query Execution Time:
=====================
94819ms
The number of results:
=====================
100000
23:01:56.088 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:01:56.088 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
23:01:56.096 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:01:56.096 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
23:01:56.096 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
23:01:56.099 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
23:01:56.100 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
23:01:56.101 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
23:01:56.101 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
23:01:56.101 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
23:01:56.101 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
23:01:56.101 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
23:01:56.101 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:01:56.101 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
23:01:56.101 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
23:01:56.102 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:01:56.104 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
23:01:56.475 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
23:01:56.476 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
23:01:56.476 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
23:01:56.476 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
23:01:56.479 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
23:01:56.592 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
23:01:56.600 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
23:01:56.607 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
23:01:56.614 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
23:01:57.170 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
23:01:57.173 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
23:01:57.173 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 3 ms
23:01:57.173 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:01:57.173 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:01:57.175 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
23:01:57.175 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

23:01:57.181 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
23:01:57.184 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
23:01:57.560 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
23:01:57.563 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }
23:01:57.564 [Thread-37] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "u"
         ProjectionElem "v"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               Join
                  Join
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A3-uri, value=http://www.example.org/A3, anonymous)
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                        Var (name=y)
                  StatementPattern
                     Var (name=y)
                     Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                     Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
               StatementPattern
                  Var (name=x)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=u)
            StatementPattern
               Var (name=y)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=v)

23:01:57.565 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,u,v) :- ans2(u,v,x,y)
ans2(u,v,x,y) :- ans4(u,v,x,y), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,x,y) :- LeftJoin(ans8(u,x,y),ans9(v,y))
ans8(u,x,y) :- LeftJoin(ans16(x,y),ans17(u,x))
ans16(x,y) :- ans32(x,y), ans33(y)
ans32(x,y) :- ans64(x), ans65(x,y)
ans64(x) :- http://www.example.org/A3(x)
ans65(x,y) :- http://www.example.org/R(x,y)
ans33(y) :- http://www.example.org/A4(y)
ans17(u,x) :- http://www.example.org/S(x,u)
ans9(v,y) :- http://www.example.org/S(y,v)

23:01:57.567 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:01:57.568 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
23:01:57.568 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:01:57.568 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
23:01:57.568 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
23:01:57.570 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

23:01:57.570 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

23:01:57.570 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

23:01:57.570 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
23:01:57.570 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
23:01:57.575 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab3" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1Tab5" AS VARCHAR(500)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                "Tab3" QVIEW1
                                JOIN
                                "Tab5" QVIEW2
                                ON
                                (QVIEW1."unique2Tab3" = QVIEW2."unique2Tab5") AND
                                (QVIEW1."twentyTab3" < 15) AND
                                QVIEW1."unique2Tab3" IS NOT NULL AND
                                QVIEW2."unique1Tab5" IS NOT NULL
                                 )
                        JOIN
                        "Tab4" QVIEW3
                        ON
                        (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                        (QVIEW3."twentyTab4" < 20)
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW4
                ON
                (QVIEW1."unique2Tab3" = QVIEW4."unique2Tab5") AND
                QVIEW1."unique2Tab3" IS NOT NULL AND
                QVIEW4."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW5
        ON
        (QVIEW2."unique1Tab5" = QVIEW5."unique2Tab5") AND
        QVIEW2."unique1Tab5" IS NOT NULL AND
        QVIEW5."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1Tab5" < 100000)
) SUB_QVIEW

23:01:57.575 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
23:03:43.479 [Thread-37] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:106863

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab3" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1Tab5" AS VARCHAR(500)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                "Tab3" QVIEW1
                                JOIN
                                "Tab5" QVIEW2
                                ON
                                (QVIEW1."unique2Tab3" = QVIEW2."unique2Tab5") AND
                                (QVIEW1."twentyTab3" < 15) AND
                                QVIEW1."unique2Tab3" IS NOT NULL AND
                                QVIEW2."unique1Tab5" IS NOT NULL
                                 )
                        JOIN
                        "Tab4" QVIEW3
                        ON
                        (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                        (QVIEW3."twentyTab4" < 20)
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW4
                ON
                (QVIEW1."unique2Tab3" = QVIEW4."unique2Tab5") AND
                QVIEW1."unique2Tab3" IS NOT NULL AND
                QVIEW4."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW5
        ON
        (QVIEW2."unique1Tab5" = QVIEW5."unique2Tab5") AND
        QVIEW2."unique1Tab5" IS NOT NULL AND
        QVIEW5."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1Tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
106863ms
The number of results:
=====================
75000
23:03:44.431 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:03:44.432 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
23:03:44.437 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:03:44.438 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
23:03:44.438 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
23:03:44.440 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
23:03:44.441 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
23:03:44.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
23:03:44.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
23:03:44.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
23:03:44.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
23:03:44.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
23:03:44.442 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:03:44.442 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
23:03:44.442 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
23:03:44.442 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:03:44.445 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
23:03:44.817 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
23:03:44.817 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
23:03:44.817 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
23:03:44.817 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
23:03:44.820 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
23:03:44.955 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
23:03:44.962 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
23:03:44.966 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
23:03:44.972 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
23:03:45.018 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
23:03:45.021 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
23:03:45.021 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 3 ms
23:03:45.021 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:03:45.021 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:03:45.023 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
23:03:45.023 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

23:03:45.028 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
23:03:45.031 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
23:03:45.408 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
23:03:45.411 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }
23:03:45.411 [Thread-40] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "u"
         ProjectionElem "v"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               Join
                  Join
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                     StatementPattern
                        Var (name=x)
                        Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                        Var (name=y)
                  StatementPattern
                     Var (name=y)
                     Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                     Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
               StatementPattern
                  Var (name=x)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=u)
            StatementPattern
               Var (name=y)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=v)

23:03:45.413 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,u,v) :- ans2(u,v,x,y)
ans2(u,v,x,y) :- ans4(u,v,x,y), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,x,y) :- LeftJoin(ans8(u,x,y),ans9(v,y))
ans8(u,x,y) :- LeftJoin(ans16(x,y),ans17(u,x))
ans16(x,y) :- ans32(x,y), ans33(y)
ans32(x,y) :- ans64(x), ans65(x,y)
ans64(x) :- http://www.example.org/A4(x)
ans65(x,y) :- http://www.example.org/R(x,y)
ans33(y) :- http://www.example.org/A4(y)
ans17(u,x) :- http://www.example.org/S(x,u)
ans9(v,y) :- http://www.example.org/S(y,v)

23:03:45.415 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:03:45.415 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
23:03:45.415 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,u,v) :- LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:03:45.415 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
23:03:45.415 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
23:03:45.417 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

23:03:45.417 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

23:03:45.418 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_5)) :- LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2)),Tab5(t1_4,t2_1,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_4)),Tab5(t1_5,t1_2,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_5)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_4),http://www.w3.org/2001/XMLSchema#integer(100000))

23:03:45.418 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
23:03:45.418 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
23:03:45.422 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1Tab5" AS VARCHAR(500)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                "Tab4" QVIEW1
                                JOIN
                                "Tab5" QVIEW2
                                ON
                                (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
                                (QVIEW1."twentyTab4" < 20) AND
                                QVIEW1."unique2Tab4" IS NOT NULL AND
                                QVIEW2."unique1Tab5" IS NOT NULL
                                 )
                        JOIN
                        "Tab4" QVIEW3
                        ON
                        (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                        (QVIEW3."twentyTab4" < 20)
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW4
                ON
                (QVIEW1."unique2Tab4" = QVIEW4."unique2Tab5") AND
                QVIEW1."unique2Tab4" IS NOT NULL AND
                QVIEW4."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW5
        ON
        (QVIEW2."unique1Tab5" = QVIEW5."unique2Tab5") AND
        QVIEW2."unique1Tab5" IS NOT NULL AND
        QVIEW5."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1Tab5" < 100000)
) SUB_QVIEW

23:03:45.423 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
23:05:21.004 [Thread-40] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:96553

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?u ?v   WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW4."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW5."unique1Tab5" AS VARCHAR(500)) AS "v"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                "Tab4" QVIEW1
                                JOIN
                                "Tab5" QVIEW2
                                ON
                                (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
                                (QVIEW1."twentyTab4" < 20) AND
                                QVIEW1."unique2Tab4" IS NOT NULL AND
                                QVIEW2."unique1Tab5" IS NOT NULL
                                 )
                        JOIN
                        "Tab4" QVIEW3
                        ON
                        (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                        (QVIEW3."twentyTab4" < 20)
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW4
                ON
                (QVIEW1."unique2Tab4" = QVIEW4."unique2Tab5") AND
                QVIEW1."unique2Tab4" IS NOT NULL AND
                QVIEW4."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW5
        ON
        (QVIEW2."unique1Tab5" = QVIEW5."unique2Tab5") AND
        QVIEW2."unique1Tab5" IS NOT NULL AND
        QVIEW5."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW4."unique1Tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
96553ms
The number of results:
=====================
100000
23:05:21.971 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:05:21.972 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
23:05:21.979 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:05:21.979 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
23:05:21.979 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
23:05:21.982 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
23:05:21.984 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
23:05:21.984 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
23:05:21.984 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
23:05:21.984 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
23:05:21.984 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
23:05:21.984 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
23:05:21.984 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:05:21.985 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
23:05:21.985 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
23:05:21.985 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:05:21.987 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
23:05:22.392 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
23:05:22.392 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
23:05:22.392 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
23:05:22.392 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
23:05:22.394 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
23:05:22.614 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
23:05:22.621 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
23:05:22.628 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
23:05:22.634 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
23:05:22.679 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
23:05:22.682 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
23:05:22.682 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 3 ms
23:05:22.682 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:05:22.682 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:05:22.684 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
23:05:22.684 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

23:05:22.689 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
23:05:22.691 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
23:05:23.043 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
23:05:23.047 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }
23:05:23.047 [Thread-43] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "z"
         ProjectionElem "u"
         ProjectionElem "v"
         ProjectionElem "w"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               LeftJoin
                  Join
                     Join
                        Join
                           Join
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                                 Var (name=-const-http://www.example.org/A3-uri, value=http://www.example.org/A3, anonymous)
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                                 Var (name=y)
                           StatementPattern
                              Var (name=y)
                              Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                              Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                        StatementPattern
                           Var (name=y)
                           Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                           Var (name=z)
                     StatementPattern
                        Var (name=z)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                  StatementPattern
                     Var (name=x)
                     Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                     Var (name=u)
               StatementPattern
                  Var (name=y)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=v)
            StatementPattern
               Var (name=z)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=w)

23:05:23.049 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,z,u,v,w) :- ans2(u,v,w,x,y,z)
ans2(u,v,w,x,y,z) :- ans4(u,v,w,x,y,z), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,w,x,y,z) :- LeftJoin(ans8(u,v,x,y,z),ans9(w,z))
ans8(u,v,x,y,z) :- LeftJoin(ans16(u,x,y,z),ans17(v,y))
ans16(u,x,y,z) :- LeftJoin(ans32(x,y,z),ans33(u,x))
ans32(x,y,z) :- ans64(x,y,z), ans65(z)
ans64(x,y,z) :- ans128(x,y), ans129(y,z)
ans128(x,y) :- ans256(x,y), ans257(y)
ans256(x,y) :- ans512(x), ans513(x,y)
ans512(x) :- http://www.example.org/A3(x)
ans513(x,y) :- http://www.example.org/R(x,y)
ans257(y) :- http://www.example.org/A4(y)
ans129(y,z) :- http://www.example.org/R(y,z)
ans65(z) :- http://www.example.org/A4(z)
ans33(u,x) :- http://www.example.org/S(x,u)
ans17(v,y) :- http://www.example.org/S(y,v)
ans9(w,z) :- http://www.example.org/S(z,w)

23:05:23.053 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:05:23.053 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
23:05:23.053 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A3(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:05:23.053 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
23:05:23.053 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
23:05:23.057 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

23:05:23.057 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

23:05:23.057 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab3(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,15),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

23:05:23.057 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
23:05:23.057 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
23:05:23.065 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab3" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", CAST(('http://www.example.org/A/' || CAST(QVIEW4."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1Tab5" AS VARCHAR(500)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1Tab5" AS VARCHAR(500)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        "Tab3" QVIEW1
                                                        JOIN
                                                        "Tab5" QVIEW2
                                                        ON
                                                        (QVIEW1."unique2Tab3" = QVIEW2."unique2Tab5") AND
                                                        (QVIEW1."twentyTab3" < 15) AND
                                                        QVIEW1."unique2Tab3" IS NOT NULL AND
                                                        QVIEW2."unique1Tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                "Tab4" QVIEW3
                                                ON
                                                (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                                                (QVIEW3."twentyTab4" < 20)
                                                 )
                                        JOIN
                                        "Tab5" QVIEW4
                                        ON
                                        (QVIEW2."unique1Tab5" = QVIEW4."unique2Tab5") AND
                                        QVIEW4."unique1Tab5" IS NOT NULL
                                         )
                                JOIN
                                "Tab4" QVIEW5
                                ON
                                (QVIEW4."unique1Tab5" = QVIEW5."unique2Tab4") AND
                                (QVIEW5."twentyTab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        "Tab5" QVIEW6
                        ON
                        (QVIEW1."unique2Tab3" = QVIEW6."unique2Tab5") AND
                        QVIEW1."unique2Tab3" IS NOT NULL AND
                        QVIEW6."unique1Tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW7
                ON
                (QVIEW2."unique1Tab5" = QVIEW7."unique2Tab5") AND
                QVIEW2."unique1Tab5" IS NOT NULL AND
                QVIEW7."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW8
        ON
        (QVIEW4."unique1Tab5" = QVIEW8."unique2Tab5") AND
        QVIEW4."unique1Tab5" IS NOT NULL AND
        QVIEW8."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1Tab5" < 100000)
) SUB_QVIEW

23:05:23.065 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
23:19:47.199 [Thread-43] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:865628

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A3.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab3" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", CAST(('http://www.example.org/A/' || CAST(QVIEW4."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1Tab5" AS VARCHAR(500)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1Tab5" AS VARCHAR(500)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        "Tab3" QVIEW1
                                                        JOIN
                                                        "Tab5" QVIEW2
                                                        ON
                                                        (QVIEW1."unique2Tab3" = QVIEW2."unique2Tab5") AND
                                                        (QVIEW1."twentyTab3" < 15) AND
                                                        QVIEW1."unique2Tab3" IS NOT NULL AND
                                                        QVIEW2."unique1Tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                "Tab4" QVIEW3
                                                ON
                                                (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                                                (QVIEW3."twentyTab4" < 20)
                                                 )
                                        JOIN
                                        "Tab5" QVIEW4
                                        ON
                                        (QVIEW2."unique1Tab5" = QVIEW4."unique2Tab5") AND
                                        QVIEW4."unique1Tab5" IS NOT NULL
                                         )
                                JOIN
                                "Tab4" QVIEW5
                                ON
                                (QVIEW4."unique1Tab5" = QVIEW5."unique2Tab4") AND
                                (QVIEW5."twentyTab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        "Tab5" QVIEW6
                        ON
                        (QVIEW1."unique2Tab3" = QVIEW6."unique2Tab5") AND
                        QVIEW1."unique2Tab3" IS NOT NULL AND
                        QVIEW6."unique1Tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW7
                ON
                (QVIEW2."unique1Tab5" = QVIEW7."unique2Tab5") AND
                QVIEW2."unique1Tab5" IS NOT NULL AND
                QVIEW7."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW8
        ON
        (QVIEW4."unique1Tab5" = QVIEW8."unique2Tab5") AND
        QVIEW4."unique1Tab5" IS NOT NULL AND
        QVIEW8."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1Tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
865628ms
The number of results:
=====================
75000
23:19:48.677 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:19:48.677 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is reset
23:19:48.681 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:19:48.681 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Load ontologies called. Translating ontologies.
23:19:48.681 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Load ontologies called. Translating ontologies.
23:19:48.683 [main] DEBUG i.u.k.obda.owlapi3.OWLAPI3Translator - Ontology loaded: [Ontology info. Axioms: 12 Classes: 15 Object Properties: 1 Data Properties: 3]
23:19:48.684 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Initializing a new Quest instance...
23:19:48.684 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Quest configuration:
23:19:48.684 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Reformulation technique: TreeWitness
23:19:48.684 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize equivalences: true
23:19:48.684 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Optimize TBox: true
23:19:48.684 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ABox mode: virtual
23:19:48.684 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:19:48.684 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Initializing Quest...
23:19:48.684 [main] DEBUG i.u.k.o.o.c.t.MappingVocabularyRepair - Fixing OBDA Model
23:19:48.684 [main] DEBUG i.u.k.obda.model.impl.OBDAModelImpl - OBDA model is initialized!
23:19:48.685 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Testing DB connection...
23:19:49.093 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Connection Pool Properties:
23:19:49.093 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Start size: 2
23:19:49.093 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Max size: 20
23:19:49.093 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Remove abandoned connections: false
23:19:49.096 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab1
23:19:49.198 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab2
23:19:49.205 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab3
23:19:49.212 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab4
23:19:49.219 [main] DEBUG i.u.krdb.sql.JDBCConnectionManager - get metadata for Tab5
23:19:49.294 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - Original mapping size: 6
23:19:49.296 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping size: 6
23:19:49.297 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - TMapping processing time: 2 ms
23:19:49.297 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:19:49.297 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Appended 0 ABox assertions as fact rules
23:19:49.298 [main] DEBUG i.u.k.o.o.core.QuestUnfolder - Final set of mappings: 
[http://www.example.org/A2(URI("http://www.example.org/A/{}",t2)) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), http://www.example.org/A1(URI("http://www.example.org/A/{}",t2)) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), http://www.example.org/A4(URI("http://www.example.org/A/{}",t2)) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), http://www.example.org/A3(URI("http://www.example.org/A/{}",t2)) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), http://www.example.org/R(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), http://www.example.org/S(URI("http://www.example.org/A/{}",t2),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A2")) :- Tab2(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,10), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A1")) :- Tab1(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,5), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A4")) :- Tab4(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,20), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),URI("http://www.example.org/A3")) :- Tab3(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), LT(t6,15), IS_NOT_NULL(t2), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/R"),URI("http://www.example.org/A/{}",t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1), triple(URI("http://www.example.org/A/{}",t2),URI("http://www.example.org/S"),http://www.w3.org/2001/XMLSchema#integer(t1)) :- Tab5(t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16), IS_NOT_NULL(t2), IS_NOT_NULL(t1)]
23:19:49.299 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - DB Metadata: 
Tab5="Tab5"[unique1Tab5:4,unique2Tab5:4:PK,twoTab5:4,fourTab5:4,tenTab5:4,twentyTab5:4,onePercentTab5:4,tenPercentTab5:4,twentyPercentTab5:4,fiftyPercentTab5:4,unique3Tab5:4,evenOnePercentTab5:4,oddOnePercentTab5:4,stringu1Tab5:1,stringu2Tab5:1,string4Tab5:1]
Tab1="Tab1"[unique1Tab1:4,unique2Tab1:4:PK,twoTab1:4,fourTab1:4,tenTab1:4,twentyTab1:4,onePercentTab1:4,tenPercentTab1:4,twentyPercentTab1:4,fiftyPercentTab1:4,unique3Tab1:4,evenOnePercentTab1:4,oddOnePercentTab1:4,stringu1Tab1:1,stringu2Tab1:1,string4Tab1:1]
Tab2="Tab2"[unique1Tab2:4,unique2Tab2:4:PK,twoTab2:4,fourTab2:4,tenTab2:4,twentyTab2:4,onePercentTab2:4,tenPercentTab2:4,twentyPercentTab2:4,fiftyPercentTab2:4,unique3Tab2:4,evenOnePercentTab2:4,oddOnePercentTab2:4,stringu1Tab2:1,stringu2Tab2:1,string4Tab2:1]
Tab3="Tab3"[unique1Tab3:4,unique2Tab3:4:PK,twoTab3:4,fourTab3:4,tenTab3:4,twentyTab3:4,onePercentTab3:4,tenPercentTab3:4,twentyPercentTab3:4,fiftyPercentTab3:4,unique3Tab3:4,evenOnePercentTab3:4,oddOnePercentTab3:4,stringu1Tab3:1,stringu2Tab3:1,string4Tab3:1]
Tab4="Tab4"[unique1Tab4:4,unique2Tab4:4:PK,twoTab4:4,fourTab4:4,tenTab4:4,twentyTab4:4,onePercentTab4:4,tenPercentTab4:4,twentyPercentTab4:4,fiftyPercentTab4:4,unique3Tab4:4,evenOnePercentTab4:4,oddOnePercentTab4:4,stringu1Tab4:1,stringu2Tab4:1,string4Tab4:1]

23:19:49.304 [main] DEBUG i.u.k.o.o.c.t.SigmaTBoxOptimizer - Starting semantic-reduction
23:19:49.306 [main] DEBUG i.u.k.obda.owlrefplatform.core.Quest - ... Quest has been initialized.
23:19:49.694 [main] DEBUG i.u.k.o.o.owlapi3.QuestOWL - Quest has completed the setup and it is ready for query answering!
23:19:49.698 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Executing query: 
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }
23:19:49.699 [Thread-46] DEBUG i.u.k.o.o.c.t.SparqlAlgebraToDatalogTranslator - SPARQL algebra: 
Distinct
   Projection
      ProjectionElemList
         ProjectionElem "x"
         ProjectionElem "y"
         ProjectionElem "z"
         ProjectionElem "u"
         ProjectionElem "v"
         ProjectionElem "w"
      Filter
         Compare (<)
            Var (name=u)
            ValueConstant (value="100000"^^<http://www.w3.org/2001/XMLSchema#integer>)
         LeftJoin
            LeftJoin
               LeftJoin
                  Join
                     Join
                        Join
                           Join
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                                 Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                              StatementPattern
                                 Var (name=x)
                                 Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                                 Var (name=y)
                           StatementPattern
                              Var (name=y)
                              Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                              Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                        StatementPattern
                           Var (name=y)
                           Var (name=-const-http://www.example.org/R-uri, value=http://www.example.org/R, anonymous)
                           Var (name=z)
                     StatementPattern
                        Var (name=z)
                        Var (name=-const-http://www.w3.org/1999/02/22-rdf-syntax-ns#type-uri, value=http://www.w3.org/1999/02/22-rdf-syntax-ns#type, anonymous)
                        Var (name=-const-http://www.example.org/A4-uri, value=http://www.example.org/A4, anonymous)
                  StatementPattern
                     Var (name=x)
                     Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                     Var (name=u)
               StatementPattern
                  Var (name=y)
                  Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
                  Var (name=v)
            StatementPattern
               Var (name=z)
               Var (name=-const-http://www.example.org/S-uri, value=http://www.example.org/S, anonymous)
               Var (name=w)

23:19:49.701 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Translated query: 
ans1(x,y,z,u,v,w) :- ans2(u,v,w,x,y,z)
ans2(u,v,w,x,y,z) :- ans4(u,v,w,x,y,z), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))
ans4(u,v,w,x,y,z) :- LeftJoin(ans8(u,v,x,y,z),ans9(w,z))
ans8(u,v,x,y,z) :- LeftJoin(ans16(u,x,y,z),ans17(v,y))
ans16(u,x,y,z) :- LeftJoin(ans32(x,y,z),ans33(u,x))
ans32(x,y,z) :- ans64(x,y,z), ans65(z)
ans64(x,y,z) :- ans128(x,y), ans129(y,z)
ans128(x,y) :- ans256(x,y), ans257(y)
ans256(x,y) :- ans512(x), ans513(x,y)
ans512(x) :- http://www.example.org/A4(x)
ans513(x,y) :- http://www.example.org/R(x,y)
ans257(y) :- http://www.example.org/A4(y)
ans129(y,z) :- http://www.example.org/R(y,z)
ans65(z) :- http://www.example.org/A4(z)
ans33(u,x) :- http://www.example.org/S(x,u)
ans17(v,y) :- http://www.example.org/S(y,v)
ans9(w,z) :- http://www.example.org/S(z,w)

23:19:49.704 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Flattened query: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:19:49.704 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Replacing equivalences...
23:19:49.705 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Normalized program: 
ans1(x,y,z,u,v,w) :- LeftJoin(LeftJoin(LeftJoin(Join(http://www.example.org/A4(x),http://www.example.org/R(x,y),http://www.example.org/A4(y),http://www.example.org/R(y,z),http://www.example.org/A4(z)),http://www.example.org/S(x,u)),http://www.example.org/S(y,v)),http://www.example.org/S(z,w)), LT(u,http://www.w3.org/2001/XMLSchema#integer(100000))

23:19:49.705 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Start the rewriting process...
23:19:49.705 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Start the partial evaluation process...
23:19:49.708 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

23:19:49.708 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - After target rules removed: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

23:19:49.709 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Boolean expression evaluated: 
ans1(URI("http://www.example.org/A/{}",t2_1),URI("http://www.example.org/A/{}",t1_2),URI("http://www.example.org/A/{}",t1_4),http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(t1_7),http://www.w3.org/2001/XMLSchema#integer(t1_8)) :- LeftJoin(LeftJoin(LeftJoin(Join(Tab4(t1_1,t2_1,t3_1,t4_1,t5_1,t6_1,t7_1,t8_1,t9_1,t10_1,t11_1,t12_1,t13_1,t14_1,t15_1,t16_1),LT(t6_1,20),IS_NOT_NULL(t2_1),Tab5(t1_2,t2_1,t3_2,t4_2,t5_2,t6_2,t7_2,t8_2,t9_2,t10_2,t11_2,t12_2,t13_2,t14_2,t15_2,t16_2),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_2),Tab4(t1_3,t1_2,t3_3,t4_3,t5_3,t6_3,t7_3,t8_3,t9_3,t10_3,t11_3,t12_3,t13_3,t14_3,t15_3,t16_3),LT(t6_3,20),IS_NOT_NULL(t1_2),Tab5(t1_4,t1_2,t3_4,t4_4,t5_4,t6_4,t7_4,t8_4,t9_4,t10_4,t11_4,t12_4,t13_4,t14_4,t15_4,t16_4),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_4),Tab4(t1_5,t1_4,t3_5,t4_5,t5_5,t6_5,t7_5,t8_5,t9_5,t10_5,t11_5,t12_5,t13_5,t14_5,t15_5,t16_5),LT(t6_5,20),IS_NOT_NULL(t1_4)),Tab5(t1_6,t2_1,t3_6,t4_6,t5_6,t6_6,t7_6,t8_6,t9_6,t10_6,t11_6,t12_6,t13_6,t14_6,t15_6,t16_6),IS_NOT_NULL(t2_1),IS_NOT_NULL(t1_6)),Tab5(t1_7,t1_2,t3_7,t4_7,t5_7,t6_7,t7_7,t8_7,t9_7,t10_7,t11_7,t12_7,t13_7,t14_7,t15_7,t16_7),IS_NOT_NULL(t1_2),IS_NOT_NULL(t1_7)),Tab5(t1_8,t1_4,t3_8,t4_8,t5_8,t6_8,t7_8,t8_8,t9_8,t10_8,t11_8,t12_8,t13_8,t14_8,t15_8,t16_8),IS_NOT_NULL(t1_4),IS_NOT_NULL(t1_8)), LT(http://www.w3.org/2001/XMLSchema#integer(t1_6),http://www.w3.org/2001/XMLSchema#integer(100000))

23:19:49.709 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Partial evaluation ended.
23:19:49.709 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Producing the SQL string...
23:19:49.716 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Resulting sql: 
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", CAST(('http://www.example.org/A/' || CAST(QVIEW4."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1Tab5" AS VARCHAR(500)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1Tab5" AS VARCHAR(500)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        "Tab4" QVIEW1
                                                        JOIN
                                                        "Tab5" QVIEW2
                                                        ON
                                                        (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
                                                        (QVIEW1."twentyTab4" < 20) AND
                                                        QVIEW1."unique2Tab4" IS NOT NULL AND
                                                        QVIEW2."unique1Tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                "Tab4" QVIEW3
                                                ON
                                                (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                                                (QVIEW3."twentyTab4" < 20)
                                                 )
                                        JOIN
                                        "Tab5" QVIEW4
                                        ON
                                        (QVIEW2."unique1Tab5" = QVIEW4."unique2Tab5") AND
                                        QVIEW4."unique1Tab5" IS NOT NULL
                                         )
                                JOIN
                                "Tab4" QVIEW5
                                ON
                                (QVIEW4."unique1Tab5" = QVIEW5."unique2Tab4") AND
                                (QVIEW5."twentyTab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        "Tab5" QVIEW6
                        ON
                        (QVIEW1."unique2Tab4" = QVIEW6."unique2Tab5") AND
                        QVIEW1."unique2Tab4" IS NOT NULL AND
                        QVIEW6."unique1Tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW7
                ON
                (QVIEW2."unique1Tab5" = QVIEW7."unique2Tab5") AND
                QVIEW2."unique1Tab5" IS NOT NULL AND
                QVIEW7."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW8
        ON
        (QVIEW4."unique1Tab5" = QVIEW8."unique2Tab5") AND
        QVIEW4."unique1Tab5" IS NOT NULL AND
        QVIEW8."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1Tab5" < 100000)
) SUB_QVIEW

23:19:49.717 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Executing the query and get the result...
23:37:51.310 [Thread-46] DEBUG i.u.k.o.o.core.QuestStatement - Execution finished.

partial time:1082892

The input SPARQL query:
=======================
PREFIX : <http://www.example.org/> SELECT DISTINCT ?x ?y ?z ?u ?v ?w  WHERE { ?x a :A4.  ?x :R ?y .  ?y a :A4 . ?y :R ?z .  ?z a :A4 . OPTIONAL { ?x :S ?u } OPTIONAL { ?y :S ?v } OPTIONAL { ?z :S ?w } FILTER (?u < 100000) }

The output SQL query:
=====================
SELECT *
FROM (
SELECT DISTINCT 
   1 AS "xQuestType", NULL AS "xLang", CAST(('http://www.example.org/A/' || CAST(QVIEW1."unique2Tab4" AS VARCHAR(500))) AS VARCHAR(500)) AS "x", 
   1 AS "yQuestType", NULL AS "yLang", CAST(('http://www.example.org/A/' || CAST(QVIEW2."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "y", 
   1 AS "zQuestType", NULL AS "zLang", CAST(('http://www.example.org/A/' || CAST(QVIEW4."unique1Tab5" AS VARCHAR(500))) AS VARCHAR(500)) AS "z", 
   4 AS "uQuestType", NULL AS "uLang", CAST(QVIEW6."unique1Tab5" AS VARCHAR(500)) AS "u", 
   4 AS "vQuestType", NULL AS "vLang", CAST(QVIEW7."unique1Tab5" AS VARCHAR(500)) AS "v", 
   4 AS "wQuestType", NULL AS "wLang", CAST(QVIEW8."unique1Tab5" AS VARCHAR(500)) AS "w"
 FROM 

        (
        
                (
                
                        (
                        
                                (
                                
                                        (
                                        
                                                (
                                                
                                                        (
                                                        "Tab4" QVIEW1
                                                        JOIN
                                                        "Tab5" QVIEW2
                                                        ON
                                                        (QVIEW1."unique2Tab4" = QVIEW2."unique2Tab5") AND
                                                        (QVIEW1."twentyTab4" < 20) AND
                                                        QVIEW1."unique2Tab4" IS NOT NULL AND
                                                        QVIEW2."unique1Tab5" IS NOT NULL
                                                         )
                                                JOIN
                                                "Tab4" QVIEW3
                                                ON
                                                (QVIEW2."unique1Tab5" = QVIEW3."unique2Tab4") AND
                                                (QVIEW3."twentyTab4" < 20)
                                                 )
                                        JOIN
                                        "Tab5" QVIEW4
                                        ON
                                        (QVIEW2."unique1Tab5" = QVIEW4."unique2Tab5") AND
                                        QVIEW4."unique1Tab5" IS NOT NULL
                                         )
                                JOIN
                                "Tab4" QVIEW5
                                ON
                                (QVIEW4."unique1Tab5" = QVIEW5."unique2Tab4") AND
                                (QVIEW5."twentyTab4" < 20)
                                 )
                        LEFT OUTER JOIN
                        "Tab5" QVIEW6
                        ON
                        (QVIEW1."unique2Tab4" = QVIEW6."unique2Tab5") AND
                        QVIEW1."unique2Tab4" IS NOT NULL AND
                        QVIEW6."unique1Tab5" IS NOT NULL
                         )
                LEFT OUTER JOIN
                "Tab5" QVIEW7
                ON
                (QVIEW2."unique1Tab5" = QVIEW7."unique2Tab5") AND
                QVIEW2."unique1Tab5" IS NOT NULL AND
                QVIEW7."unique1Tab5" IS NOT NULL
                 )
        LEFT OUTER JOIN
        "Tab5" QVIEW8
        ON
        (QVIEW4."unique1Tab5" = QVIEW8."unique2Tab5") AND
        QVIEW4."unique1Tab5" IS NOT NULL AND
        QVIEW8."unique1Tab5" IS NOT NULL
         )
WHERE 
(QVIEW6."unique1Tab5" < 100000)
) SUB_QVIEW

Query Execution Time:
=====================
1082892ms
The number of results:
=====================
100000
